const articlesData = {
    ko: [
        {
            title: "2026ë…„ ìµìŠ¤í”„ë ˆìŠ¤ ì—”íŠ¸ë¦¬ ëŒ€ê°œí˜: ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ì„ ë°œ ì‹œìŠ¤í…œ ì‹¬ì¸µ ë¶„ì„",
            badge: "ì •ì±… ë¶„ì„",
            date: "2026ë…„ 2ì›” 25ì¼",
            summary: "IRCCëŠ” 2026ë…„ ìµìŠ¤í”„ë ˆìŠ¤ ì—”íŠ¸ë¦¬ ìš´ì˜ ë°©ì¹¨ì„ ë°œí‘œí•˜ë©° ì—°êµ¬ì§, ì‹œë‹ˆì–´ ë§¤ë‹ˆì €, ìš´ì†¡ì§ ë“± 4ëŒ€ í•µì‹¬...",
            content: `<p>IRCCëŠ” 2026ë…„ ìµìŠ¤í”„ë ˆìŠ¤ ì—”íŠ¸ë¦¬ ìš´ì˜ ê³„íšì„ í†µí•´ 'CRS ì ìˆ˜ ì§€ìƒì£¼ì˜'ì—ì„œ ë²—ì–´ë‚˜, ìºë‚˜ë‹¤ì˜ ì‹¤ì œ ê²½ì œ ì„±ì¥ ë™ë ¥ê³¼ ì§ê²°ë˜ëŠ” <b>'ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ì„ ë°œ(Category-based Selection)'</b>ì˜ ë¹„ì¤‘ì„ ì „ì²´ ì„ ë°œ ì¸ì›ì˜ 70% ì´ìƒìœ¼ë¡œ í™•ëŒ€í•©ë‹ˆë‹¤.</p><h3>1. 2026ë…„ 4ëŒ€ ì‹ ê·œ ì§‘ì¤‘ ì„ ë°œ ì¹´í…Œê³ ë¦¬</h3><ul><li><b>ì—°êµ¬ ë° êµìœ¡(Academic/Research):</b> ìºë‚˜ë‹¤ ë‚´ ì—°êµ¬ì†Œë‚˜ ëŒ€í•™ì—ì„œ ê¸°ì—¬í•œ ì¸ì¬.</li><li><b>ì „ëµ ê²½ì˜(Senior Management):</b> ìºë‚˜ë‹¤ í˜„ì§€ ê¸°ì—…ì˜ ì˜ì‚¬ê²°ì •ê¶Œì ê·¸ë£¹.</li><li><b>ìš´ì†¡ ë° ë¬¼ë¥˜(Transport):</b> ê¸€ë¡œë²Œ ê³µê¸‰ë§ ë³‘ëª© í˜„ìƒì„ í•´ê²°í•  í•µì‹¬ ì¸ë ¥.</li><li><b>êµ­ë°© ë° íŠ¹ìˆ˜ ê¸°ìˆ (Military):</b> êµ­ê°€ ì•ˆë³´ì™€ ì§ê²°ëœ íŠ¹ìˆ˜ ê¸°ìˆ ì§êµ°.</li></ul>`
        },
        {
            title: "ìºë‚˜ë‹¤ ê²½ë ¥ ì—°êµ¬ì ë° êµìˆ˜ì§„(Academic) ì˜ì£¼ê¶Œ ì·¨ë“ ë¡œë“œë§µ",
            badge: "ì „ë¬¸ ê°€ì´ë“œ",
            date: "2026ë…„ 2ì›” 24ì¼",
            summary: "ìºë‚˜ë‹¤ ëŒ€í•™ì´ë‚˜ ì—°êµ¬ì†Œì—ì„œ ê²½ë ¥ì„ ìŒ“ì€ ì—°êµ¬ìì™€ êµìˆ˜ì§„ì´ 2026ë…„ ì „ëµ ì¹´í…Œê³ ë¦¬ì— í¬í•¨ë˜ì—ˆìŠµë‹ˆë‹¤.",
            content: `<p>ìºë‚˜ë‹¤ ë‚´ ëŒ€í•™(DLI)ì´ë‚˜ ì—°êµ¬ì†Œì—ì„œ ê²½ë ¥ì„ ìŒ“ì€ ì „ë¬¸ê°€ë“¤ì—ê²Œ ì „ë¡€ ì—†ëŠ” ê¸°íšŒë¥¼ ì œê³µí•©ë‹ˆë‹¤. ëŒ€í•™ êµìˆ˜(NOC 40110), ë°•ì‚¬ í›„ ì—°êµ¬ì›(NOC 40120) ë“±ì´ ì£¼ìš” ëŒ€ìƒì´ë©°, ì¼ë°˜ ì»·ì˜¤í”„ë³´ë‹¤ í›¨ì”¬ ë‚®ì€ ì ìˆ˜ë¡œ í•©ê²©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>`
        },
        {
            title: "ì‹œë‹ˆì–´ ë§¤ë‹ˆì €(Senior Manager)ë¥¼ ìœ„í•œ ì „ëµì  ì´ë¯¼ ê°€ì´ë“œ",
            badge: "ê²½ì˜ ì „ëµ",
            date: "2026ë…„ 2ì›” 23ì¼",
            summary: "ìºë‚˜ë‹¤ ê²½ì œ í™œì„±í™”ë¥¼ ìœ„í•´ ê³ ë„ì˜ ê´€ë¦¬ ëŠ¥ë ¥ì„ ê°–ì¶˜ ì‹œë‹ˆì–´ ë§¤ë‹ˆì € ì§êµ°ì´ ì¹´í…Œê³ ë¦¬ ì„ ë°œì˜ í•œ ì¶•ì„...",
            content: `<p>NOC TEER 0 ë“±ê¸‰ì˜ ì‹œë‹ˆì–´ ê²½ì˜ì§„(NOC 00012, 00013 ë“±)ì„ ìœ„í•œ íŠ¹ë³„ ì „í˜•ì…ë‹ˆë‹¤. ê¸°ì—… ìš´ì˜ ì„±ê³¼ì™€ ìºë‚˜ë‹¤ ê²½ì œ ê¸°ì—¬ë„ë¥¼ ì¦ëª…í•˜ëŠ” ê²ƒì´ í•©ê²©ì˜ í•µì‹¬ì…ë‹ˆë‹¤.</p>`
        },
        {
            title: "2026 í•­ê³µ ë° ìš´ì†¡ ê¸°ìˆ ì§: ê³µê¸‰ë§ ìœ„ê¸° í•´ê²°ì˜ í•µì‹¬ ì¸ì¬",
            badge: "ì‚°ì—… ë¦¬í¬íŠ¸",
            date: "2026ë…„ 2ì›” 22ì¼",
            summary: "íŒŒì¼ëŸ¿, í•­ê³µê¸° ì •ë¹„ì‚¬ ë“± ìš´ì†¡ ë¶„ì•¼ì˜ í•µì‹¬ ì¸ë ¥ ë¶€ì¡±ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë³„ë„ì˜ ë“œë¡œìš°ê°€ ê°•í™”ë©ë‹ˆë‹¤.",
            content: `<p>íŒŒì¼ëŸ¿(NOC 72600), í•­ê³µ ì •ë¹„ì‚¬(NOC 72404) ë“± ìš´ì†¡ ì§êµ°ì€ ê°€ì¥ ë†’ì€ ë¹ˆë„ë¡œ ì„ ë°œë  ì˜ˆì •ì…ë‹ˆë‹¤. í•´ì™¸ ìê²©ì¦ì˜ ìºë‚˜ë‹¤ í™˜ì‚° ì ˆì°¨ë¥¼ ë¯¸ë¦¬ ì™„ë£Œí•˜ëŠ” ê²ƒì´ í•„ìˆ˜ì…ë‹ˆë‹¤.</p>`
        },
        {
            title: "êµ­ë°© ë° êµ°ì‚¬ ê¸°ìˆ ì§(Military) ì‹ ì„¤ ì¹´í…Œê³ ë¦¬ ì™„ë²½ ë¶„ì„",
            badge: "ì‹ ê·œ ì „í˜•",
            date: "2026ë…„ 2ì›” 21ì¼",
            summary: "2026ë…„ë¶€í„°ëŠ” êµ­ë°© ë¶„ì•¼ì˜ ê¸°ìˆ ë ¥ì„ í™•ë³´í•˜ê¸° ìœ„í•´ êµ° ê´€ë ¨ ìˆ™ë ¨ ê¸°ìˆ ì§ì— ëŒ€í•œ ìš°ëŒ€ ì •ì±…ì´ ì‹œí–‰ë©ë‹ˆë‹¤.",
            content: `<p>êµ°ì—ì„œì˜ íŠ¹ìˆ˜ ê¸°ìˆ (ì‚¬ì´ë²„ ë³´ì•ˆ, íŠ¹ìˆ˜ ì¥ë¹„ ì •ë¹„ ë“±)ì´ ìºë‚˜ë‹¤ ì•ˆë³´ì˜ í•µì‹¬ ìì‚°ìœ¼ë¡œ ì¸ì •ë°›ìŠµë‹ˆë‹¤. ìš°ë°©êµ­ êµ° ê²½ë ¥ìì—ê²Œ ê°•ë ¥í•œ ê°€ì ì´ ë¶€ì—¬ë˜ëŠ” í˜ì‹ ì ì¸ ì „í˜•ì…ë‹ˆë‹¤.</p>`
        },
        {
            title: "í”„ë‘ìŠ¤ì–´ ìš°ìˆ˜ì ì „í˜•: 2026ë…„ì—ë„ ì˜ì£¼ê¶Œ ì·¨ë“ì˜ 'ì¹˜íŠ¸í‚¤'",
            badge: "ì–¸ì–´ ì „ëµ",
            date: "2026ë…„ 2ì›” 20ì¼",
            summary: "ì–¸ì–´ ì¹´í…Œê³ ë¦¬ ì¤‘ í”„ë‘ìŠ¤ì–´ ìš°ìˆ˜ì ì „í˜•ì€ ì—¬ì „íˆ ê°•ë ¥í•©ë‹ˆë‹¤. 2026ë…„ì—ë„ ê°€ì¥ ë‚®ì€ ì»·ì˜¤í”„ë¥¼...",
            content: `<p>ë¶ˆì–´ ëŠ¥ë ¥(CLB 7 ì´ìƒ)ì€ ì¼ë°˜ ì„ ë°œë³´ë‹¤ 100ì  ì´ìƒ ë‚®ì€ ì»¤íŠ¸ë¼ì¸ í˜œíƒì„ ì œê³µí•©ë‹ˆë‹¤. ì˜ì–´ ì„±ì ê³¼ ì¡°í•© ì‹œ ìµœëŒ€ 50ì  ì¶”ê°€ ì ìˆ˜ë¥¼ í™•ë³´í•  ìˆ˜ ìˆëŠ” ê°€ì¥ í™•ì‹¤í•œ ê²½ë¡œì…ë‹ˆë‹¤.</p>`
        }
    ],
    en: [
        {
            title: "2026 Express Entry Reform: Deep Dive into Category-based Selection",
            badge: "Policy Analysis",
            date: "Feb 25, 2026",
            summary: "IRCC announces 2026 EE guidelines, focusing on Academic, Senior Manager, and Transport categories...",
            content: `<p>In its 2026 operational plan, IRCC is shifting away from pure CRS score competition. <b>Category-based Selection</b> will now account for over 70% of all invitations.</p><h3>1. Four New Strategic Categories for 2026</h3><ul><li><b>Academic/Research:</b> Talent contributing to Canadian research institutes or universities.</li><li><b>Senior Management:</b> Decision-makers for Canadian businesses.</li><li><b>Transport & Logistics:</b> Key personnel to solve global supply chain bottlenecks.</li><li><b>Military & Special Tech:</b> Technical roles critical to national security.</li></ul>`
        },
        {
            title: "Permanent Residency Roadmap for Canadian Researchers & Academic Staff",
            badge: "Expert Guide",
            date: "Feb 24, 2026",
            summary: "Researchers and professors with Canadian experience are now part of the 2026 strategic categories.",
            content: `<p>Unprecedented opportunities for experts in Canadian universities (DLIs) or research centers. University professors (NOC 40110) and post-doctoral fellows (NOC 40120) can now get ITA with significantly lower scores.</p>`
        },
        {
            title: "Strategic Immigration Guide for Senior Managers (TEER 0)",
            badge: "Business Strategy",
            date: "Feb 23, 2026",
            summary: "High-level management roles are now a key pillar of category-based selection to boost the economy...",
            content: `<p>Specialized stream for NOC TEER 0 senior executives (NOC 00012, 00013, etc.). Proving business performance and contribution to the Canadian economy is key to success.</p>`
        },
        {
            title: "2026 Aviation & Transport Trades: Critical Talent for Supply Chain Resilience",
            badge: "Industry Report",
            date: "Feb 22, 2026",
            summary: "Dedicated draws for pilots, aircraft mechanics, and transport specialists are being strengthened.",
            content: `<p>Transport roles like Pilots (NOC 72600) and Aircraft Mechanics (NOC 72404) will see frequent draws. Completing Canadian equivalency for foreign licenses early is essential.</p>`
        },
        {
            title: "Full Analysis of the New Military & Defense Tech Category",
            badge: "New Stream",
            date: "Feb 21, 2026",
            summary: "In 2026, preferential policies for military-related skilled trades will be implemented to secure tech talent.",
            content: `<p>Specialized military skills (Cybersecurity, special equipment maintenance) are now recognized as core security assets. This innovative stream offers strong bonus points for veterans from allied nations.</p>`
        },
        {
            title: "French Proficiency: Still the 'Cheat Code' for PR in 2026",
            badge: "Language Strategy",
            date: "Feb 20, 2026",
            summary: "The French-speaking category remains powerful, offering the lowest cut-off scores in 2026...",
            content: `<p>French proficiency (CLB 7+) offers a cut-off score benefit of over 100 points compared to general draws. Combined with English, it's the most reliable path to secure up to 50 additional CRS points.</p>`
        }
    ]
};

const translations = {
    ko: {
        title: "ìºë‚˜ë‹¤ ìµìŠ¤í”„ë ˆìŠ¤ ì—”íŠ¸ë¦¬ ê°€ì´ë“œ & CRS ì ìˆ˜ ê³„ì‚°ê¸°",
        headerSubtitle: "ìºë‚˜ë‹¤ ìµìŠ¤í”„ë ˆìŠ¤ ì—”íŠ¸ë¦¬ & CRS ì¢…í•© ê°€ì´ë“œ",
        langToggle: "English",
        themeToggleLight: "â˜€ï¸ ë¼ì´íŠ¸ ëª¨ë“œ",
        themeToggleDark: "ğŸŒ™ ë‹¤í¬ ëª¨ë“œ",
        navHome: "í™ˆ",
        navCalculator: "CRS ê³„ì‚°ê¸°",
        navGuide: "ì´ë¯¼ ê°€ì´ë“œ",
        navArticles: "ë‰´ìŠ¤",
        navContact: "ë¬¸ì˜",
        homeH2: "Welcome to Canada",
        homeP: "ìºë‚˜ë‹¤ ì´ë¯¼ ì—¬ì •ì„ ìœ„í•œ ê°€ì¥ ì„¸ë ¨ëœ ë„êµ¬ì…ë‹ˆë‹¤. ìµìŠ¤í”„ë ˆìŠ¤ ì—”íŠ¸ë¦¬(Express Entry) ì‹œìŠ¤í…œì„ ë¶„ì„í•˜ê³  ë‹¹ì‹ ì˜ ì ìˆ˜ë¥¼ ìµœì í™”í•˜ì„¸ìš”.",
        calcH2: "ë§ì¶¤í˜• ì´ë¯¼ ë£¨íŠ¸ ì§„ë‹¨ & CRS ê³„ì‚°ê¸°",
        calcP: "ê¸°ë³¸ ì •ë³´ì™€ ì„ í˜¸ë„ë¥¼ ì…ë ¥í•˜ë©´ <b>Express Entry, PNP, Pilot í”„ë¡œê·¸ë¨</b> ì¤‘ ë‹¹ì‹ ì—ê²Œ ê°€ì¥ ìœ ë¦¬í•œ ìµœì ì˜ ê²½ë¡œë¥¼ ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.",
        acc1Title: "ê¸°ë³¸ ì¸ì  ì •ë³´",
        acc1Sub: "Personal Information",
        labelBirthYear: "ì¶œìƒ ì—°ë„",
        placeholderBirthYear: "ì˜ˆ: 1992",
        labelBirthMonth: "ì¶œìƒ ì›”",
        labelAge: "ë§Œ ë‚˜ì´ (ìë™ê³„ì‚°)",
        ageDefault: "ì¶œìƒ ì—°ë„/ì›” ì…ë ¥ í›„ ìë™ ê³„ì‚°",
        labelMarital: "ê²°í˜¼ ì—¬ë¶€",
        single: "ë¯¸í˜¼ (Single)",
        married: "ê¸°í˜¼ (Married)",
        labelSpouseAcc: "ë°°ìš°ì ë™ë°˜ ì—¬ë¶€",
        yes: "ì˜ˆ",
        no: "ì•„ë‹ˆì˜¤",
        accompany: "ë™ë°˜ ì˜ˆì •",
        nonAccompany: "ë¹„ë™ë°˜ (ì ìˆ˜ ì‚°ì • ì œì™¸)",
        labelDependents: "ë¶€ì–‘ ìë…€ ìˆ˜",
        none: "ì—†ìŒ",
        labelCanadaStatus: "í˜„ì¬ ìºë‚˜ë‹¤ ì²´ë¥˜ ìƒíƒœ",
        statusAbroad: "ì—†ìŒ (í•´ì™¸ ê±°ì£¼)",
        statusStudent: "í•™ìƒ ë¹„ì",
        statusWork: "ì›Œí¬í¼ë°‹",
        statusVisitor: "ë°©ë¬¸ì ë¹„ì",
        acc2Title: "í•™ë ¥ ì •ë³´",
        acc2Sub: "Education",
        labelEdu: "ìµœì¢… í•™ë ¥",
        eduPlaceholder: "í•™ë ¥ì„ ì„ íƒí•˜ì„¸ìš”",
        eduHigh: "ê³ ë“±í•™êµ ì¡¸ì—…",
        edu1y: "1ë…„ ê³¼ì • ëŒ€í•™ ì¡¸ì—… (1-year college)",
        edu2y: "2ë…„ ê³¼ì • ëŒ€í•™ ì¡¸ì—… (2-year college)",
        eduBach: "í•™ì‚¬ í•™ìœ„ (3ë…„ ì´ìƒ)",
        edu2plus: "2ê°œ ì´ìƒì˜ í•™ìœ„ (í•˜ë‚˜ê°€ 3ë…„ ì´ìƒ)",
        eduMast: "ì„ì‚¬ í•™ìœ„",
        eduPhd: "ë°•ì‚¬ í•™ìœ„",
        labelEduCountry: "í•™ìœ„ ì·¨ë“ êµ­ê°€",
        abroad: "í•´ì™¸",
        canada: "ìºë‚˜ë‹¤",
        both: "í•´ì™¸+ìºë‚˜ë‹¤ ë³µìˆ˜",
        labelEca: "ECA í‰ê°€ ì™„ë£Œ ì—¬ë¶€ (í•´ì™¸ í•™ìœ„)",
        labelCanStudy: "ìºë‚˜ë‹¤ ë‚´ í•™ì—… ìœ ë¬´",
        canStudyNone: "ì—†ìŒ",
        canStudy12y: "1~2ë…„ ê³¼ì • ì¡¸ì—…",
        canStudy3y: "3ë…„ ì´ìƒ ë˜ëŠ” ì„/ë°•ì‚¬ ì¡¸ì—…",
        acc3Title: "ì–¸ì–´ ì„±ì ",
        acc3Sub: "Language Proficiency",
        labelLangTest: "ì˜ì–´ ì‹œí—˜ ì¢…ë¥˜",
        labelLangL: "ë“£ê¸° (L)",
        labelLangR: "ì½ê¸° (R)",
        labelLangW: "ì“°ê¸° (W)",
        labelLangS: "ë§í•˜ê¸° (S)",
        labelClbRes: "CLB ìë™ê³„ì‚° ê²°ê³¼",
        clbDefault: "ì–¸ì–´ ì ìˆ˜ ì…ë ¥ í›„ ìë™ ê³„ì‚°",
        labelFrench: "ë¶ˆì–´ ì„±ì  (ì„ íƒ)",
        labelFrenchTest: "ë¶ˆì–´ ì‹œí—˜ ì¢…ë¥˜",
        labelFrenchClb: "ë¶ˆì–´ CLB ë ˆë²¨",
        frenchClb4: "CLB 4 ì´í•˜",
        frenchClb56: "CLB 5~6",
        frenchClb78: "CLB 7~8",
        frenchClb9: "CLB 9 ì´ìƒ",
        acc4Title: "ê²½ë ¥ ì •ë³´",
        acc4Sub: "Work Experience & Job Offer",
        canExpTitle: "ìºë‚˜ë‹¤ ë‚´ ê²½ë ¥",
        labelCanExpY: "ìºë‚˜ë‹¤ ìˆ™ë ¨ì§ ê²½ë ¥ (ë…„)",
        labelCanNoc: "ìºë‚˜ë‹¤ ì§ì—… NOC ì½”ë“œ",
        labelTeerDisplay: "TEER / ì§ì—…ëª… (ìë™í‘œì‹œ)",
        teerDefault: "NOC ì½”ë“œ ì…ë ¥ í›„ ìë™ í‘œì‹œ",
        foreignExpTitle: "í•´ì™¸ ê²½ë ¥",
        labelForeignExpY: "í•´ì™¸ ìˆ™ë ¨ì§ ê²½ë ¥ (ìµœê·¼ 10ë…„)",
        labelForeignNoc: "í•´ì™¸ ì§ì—… NOC ì½”ë“œ",
        jobOfferTitle: "ì¡ì˜¤í¼ (Job Offer)",
        labelHasJob: "ìœ íš¨í•œ ì¡ì˜¤í¼ ë³´ìœ  ì—¬ë¶€",
        jobRegular: "ìˆìŒ (ì¼ë°˜ ìˆ™ë ¨ì§, TEER 1-3)",
        jobSenior: "ìˆìŒ (ì‹œë‹ˆì–´ ë§¤ë‹ˆì €, TEER 0)",
        labelLmia: "LMIA ìŠ¹ì¸ ì—¬ë¶€",
        lmiaYes: "ì˜ˆ, LMIA ìŠ¹ì¸",
        lmiaExempt: "LMIA ë©´ì œ (C10/C11 ë“±)",
        labelEmpPnp: "ê³ ìš©ì£¼ PNP ì—°ê³„ ê°€ëŠ¥ ì—¬ë¶€",
        acc5Title: "ê°€ì‚°ì  ìš”ì†Œ",
        acc5Sub: "Additional Points",
        labelSibling: "ìºë‚˜ë‹¤ ë‚´ í˜•ì œ/ìë§¤ ê±°ì£¼",
        labelPnp: "ì£¼ì •ë¶€ ì´ë¯¼ (PNP) ë…¸ë¯¸ë„¤ì´ì…˜",
        pnpPlus600: "ìˆìŒ (+600ì )",
        labelTrade: "ê¸°ìˆ ì§ ìê²© ë³´ìœ  (FST í•´ë‹¹)",
        acc6Title: "ì´ë¯¼ ì„ í˜¸ë„",
        acc6Sub: "Preferences & Profile",
        labelProvince: "ì„ í˜¸ ê±°ì£¼ ì§€ì—­",
        anyProvince: "ìƒê´€ ì—†ìŒ (ì „ ì§€ì—­)",
        labelRural: "ë†ì´Œ/ì†Œë„ì‹œ ì •ì°© ì˜í–¥",
        labelAtlantic: "ì•„í‹€ë€í‹± ì§€ì—­ ì •ì°© ì˜í–¥",
        labelOccGroup: "í˜„ì¬ ì§ì¢… ì¹´í…Œê³ ë¦¬",
        occOthers: "ê¸°íƒ€ ì¼ë°˜ ìˆ™ë ¨ì§",
        labelSalary: "í˜„ì¬ ì—°ë´‰ (ìºë‚˜ë‹¤ ë‹¬ëŸ¬)",
        salaryNone: "ì •ë³´ ì—†ìŒ",
        labelBusiness: "ë¹„ì¦ˆë‹ˆìŠ¤ ì´ë¯¼ ê´€ì‹¬ ì—¬ë¶€",
        acc7Title: "ì „ëµ ì‹œë®¬ë ˆì´ì…˜",
        acc7Sub: "What-if Strategy Simulation",
        simP: "ì•„ë˜ ì˜µì…˜ì„ ì„ íƒí•˜ë©´ ë¶„ì„ ê²°ê³¼ì—ì„œ ì‹œë‚˜ë¦¬ì˜¤ë³„ ì ìˆ˜ í–¥ìƒ ì‹œë®¬ë ˆì´ì…˜ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
        labelSimIelts: "IELTS ì¬ì‘ì‹œ ì˜í–¥",
        labelSimFrench: "ë¶ˆì–´ í•™ìŠµ ì˜í–¥",
        labelSimExp: "ì¶”ê°€ ê²½ë ¥ ê³„íš (1ë…„ ë‚´)",
        labelSimSpouse: "ë°°ìš°ì IELTS ì‘ì‹œ ì˜í–¥",
        labelSimEmp: "ê³ ìš©ì£¼ ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€",
        spouseSectionTitle: "ë°°ìš°ì ì •ë³´ (ë™ë°˜í•˜ëŠ” ê²½ìš°)",
        labelSpouseEdu: "ë°°ìš°ì ìµœì¢… í•™ë ¥",
        labelSpouseLang: "ë°°ìš°ì ì˜ì–´ CLB ë ˆë²¨",
        labelSpouseExp: "ë°°ìš°ì ìºë‚˜ë‹¤ ê²½ë ¥",
        btnAnalyze: "AI ìµœì  ë£¨íŠ¸ ë¶„ì„ ì‹œì‘í•˜ê¸°",
        nocH2: "ë‚´ NOC ì½”ë“œ ì°¾ê¸° (2021)",
        nocP: "ìºë‚˜ë‹¤ ì´ë¯¼ ì‹ ì²­ì˜ ì²« ë‹¨ê³„ëŠ” ë³¸ì¸ì˜ ì§ì—…ì— ë§ëŠ” 5ìë¦¬ NOC ì½”ë“œë¥¼ ì°¾ëŠ” ê²ƒì…ë‹ˆë‹¤. ì§ì—…ëª…ì´ë‚˜ í‚¤ì›Œë“œ(<b>ì˜ë¬¸ ì „ìš©</b>)ë¥¼ ì…ë ¥í•´ë³´ì„¸ìš”.",
        nocSearchPlaceholder: "ì˜ˆ: Software, Nurse, Manager, Cook...",
        nocDefaultText: "ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ë©´ ê´€ë ¨ NOC ì½”ë“œê°€ í‘œì‹œë©ë‹ˆë‹¤.",
        nocDisclaimer: "* ë³¸ ë¦¬ìŠ¤íŠ¸ëŠ” ì£¼ìš” ìˆ™ë ¨ì§ ìœ„ì£¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ì •í™•í•œ ë§¤ì¹­ì€ ê³µì‹ IRCC ì›¹ì‚¬ì´íŠ¸ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.",
        drawsH2: "ìµìŠ¤í”„ë ˆìŠ¤ ì—”íŠ¸ë¦¬ ìµœì‹  ì„ ë°œ ê²°ê³¼",
        drawsP: "ìµœê·¼ IRCCì—ì„œ ë°œí‘œí•œ ìµìŠ¤í”„ë ˆìŠ¤ ì—”íŠ¸ë¦¬ ì´ˆì²­(ITA) ê²°ê³¼ì…ë‹ˆë‹¤. ë³¸ì¸ì˜ ì ìˆ˜ì™€ ìµœì‹  ì»·ì˜¤í”„ë¥¼ ë¹„êµí•´ ë³´ì„¸ìš”.",
        thDate: "ë‚ ì§œ",
        thType: "ì„ ë°œ ìœ í˜•",
        thInvitations: "ì´ˆì²­ ì¸ì›",
        thScore: "í•©ê²© ì ìˆ˜ (CRS)",
        drawsDisclaimer: "* PNP ì„ ë°œì€ ì£¼ì •ë¶€ ê°€ì‚°ì  600ì ì´ í¬í•¨ëœ ì ìˆ˜ì…ë‹ˆë‹¤.",
        guideH2: "ìµìŠ¤í”„ë ˆìŠ¤ ì—”íŠ¸ë¦¬(Express Entry)ë€?",
        guideP1: "ìµìŠ¤í”„ë ˆìŠ¤ ì—”íŠ¸ë¦¬ëŠ” ìºë‚˜ë‹¤ ì •ë¶€ê°€ ìˆ™ë ¨ì§ ê·¼ë¡œìì˜ ì˜ì£¼ê¶Œ ì‹ ì²­ì„ ê´€ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ë‹¤ìŒ ì„¸ ê°€ì§€ ì£¼ìš” í”„ë¡œê·¸ë¨ì„ í¬í•¨í•©ë‹ˆë‹¤:",
        liFswp: "ì—°ë°© ìˆ™ë ¨ì§ í”„ë¡œê·¸ë¨ (FSWP): í•´ì™¸ ê²½ë ¥ì„ ê°€ì§„ ìˆ™ë ¨ì§ ê·¼ë¡œì ëŒ€ìƒ.",
        liFstp: "ì—°ë°© ê¸°ìˆ ì§ í”„ë¡œê·¸ë¨ (FSTP): íŠ¹ì • ê¸°ìˆ  ì—…ì¢…ì˜ ê·¼ë¡œì ëŒ€ìƒ.",
        liCec: "ìºë‚˜ë‹¤ ê²½í—˜ ì´ë¯¼ (CEC): ìºë‚˜ë‹¤ ë‚´ ê²½ë ¥ì´ ìˆëŠ” ìˆ™ë ¨ì§ ê·¼ë¡œì ëŒ€ìƒ.",
        clbTableH3: "ì–¸ì–´ ì„±ì (CLB) ìƒì„¸ ì ìˆ˜í‘œ",
        clbTableP: "ìºë‚˜ë‹¤ ì´ë¯¼ì—ì„œ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” <strong>IELTS General Training</strong>ê³¼ <strong>CELPIP General</strong> ì ìˆ˜ì˜ CLB ë³€í™˜í‘œì…ë‹ˆë‹¤. ìµìŠ¤í”„ë ˆìŠ¤ ì—”íŠ¸ë¦¬ ê³ ë“ì ì„ ìœ„í•´ì„œëŠ” <strong>CLB 9 ì´ìƒ</strong>ì„ ëª©í‘œë¡œ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.",
        thClb: "CLB ë ˆë²¨",
        thTest: "ì‹œí—˜ ì¢…ë¥˜",
        howToRaiseH3: "CRS ì ìˆ˜ë¥¼ ë†’ì´ëŠ” ë°©ë²•ì€?",
        howToRaiseP: "í˜„ì¬ ì ìˆ˜ê°€ ìµœê·¼ ì»¤íŠ¸ë¼ì¸ë³´ë‹¤ ë‚®ë‹¤ë©´ ë‹¤ìŒ ì „ëµì„ ê³ ë ¤í•´ ë³´ì„¸ìš”:",
        liRaiseLang: "ì–¸ì–´ ì ìˆ˜ í–¥ìƒ: IELTS ë˜ëŠ” CELPIPì—ì„œ CLB 9 ë˜ëŠ” 10ì„ ë‹¬ì„±í•˜ë©´ ì ìˆ˜ê°€ ë¹„ì•½ì ìœ¼ë¡œ ìƒìŠ¹í•©ë‹ˆë‹¤.",
        liRaisePnp: "ì£¼ì •ë¶€ ì´ë¯¼(PNP): ì£¼ì •ë¶€ ë…¸ë¯¸ë„¤ì´ì…˜ì„ ë°›ìœ¼ë©´ ìë™ìœ¼ë¡œ 600ì ì„ ì¶”ê°€ íšë“í•©ë‹ˆë‹¤.",
        liRaiseExp: "ê²½ë ¥ ìŒ“ê¸°: íŠ¹íˆ ìºë‚˜ë‹¤ ë‚´ì—ì„œì˜ ì¶”ê°€ ê²½ë ¥ì€ ë†’ì€ ê°€ì‚°ì ì´ ë¶™ìŠµë‹ˆë‹¤.",
        liRaiseEdu: "ì¶”ê°€ í•™ìœ„ ì·¨ë“: ì„ì‚¬ ë˜ëŠ” ë°•ì‚¬ í•™ìœ„ëŠ” ì¸ì  ìë³¸ ì ìˆ˜ë¥¼ í¬ê²Œ ë†’ì—¬ì¤ë‹ˆë‹¤.",
        articlesH2: "ìµœì‹  ì´ë¯¼ ë‰´ìŠ¤ ë° ê°€ì´ë“œ",
        contactH2: "ë¬¸ì˜ ë° ì œíœ´",
        contactP: "í˜‘ì—…ì´ë‚˜ íŠ¹ì • ì§ˆë¬¸ì´ ìˆìœ¼ì‹ ê°€ìš”? ì €í¬ì—ê²Œ ì—°ë½ì£¼ì„¸ìš”!",
        labelName: "ì„±í•¨:",
        namePlaceholder: "í™ê¸¸ë™",
        labelEmail: "ì´ë©”ì¼:",
        labelMessage: "ë©”ì‹œì§€:",
        messagePlaceholder: "ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”...",
        btnSubmit: "ë©”ì‹œì§€ ì „ì†¡",
        footerRights: "Â© 2026 Canada PR Builder. All rights reserved.",
        footerPrivacy: "ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨",
        footerContact: "ê³ ê°ì„¼í„°"
    },
    en: {
        title: "Canada Express Entry Guide & CRS Calculator",
        headerSubtitle: "Canada Express Entry & CRS Comprehensive Guide",
        langToggle: "í•œê¸€",
        themeToggleLight: "â˜€ï¸ Light Mode",
        themeToggleDark: "ğŸŒ™ Dark Mode",
        navHome: "Home",
        navCalculator: "CRS Calculator",
        navGuide: "Guide",
        navArticles: "News",
        navContact: "Contact",
        homeH2: "Welcome to Canada",
        homeP: "The most sophisticated tool for your Canadian immigration journey. Analyze the Express Entry system and optimize your score.",
        calcH2: "Personalized Immigration Path Diagnosis & CRS Calculator",
        calcP: "Enter your information and preferences to get data-driven recommendations for <b>Express Entry, PNP, and Pilot programs</b>.",
        acc1Title: "Personal Information",
        acc1Sub: "Basic Info",
        labelBirthYear: "Birth Year",
        placeholderBirthYear: "e.g. 1992",
        labelBirthMonth: "Birth Month",
        labelAge: "Age (Auto-calculated)",
        ageDefault: "Calculated after entering birth year/month",
        labelMarital: "Marital Status",
        single: "Single",
        married: "Married",
        labelSpouseAcc: "Spouse Accompanying",
        yes: "Yes",
        no: "No",
        accompany: "Accompanying",
        nonAccompany: "Non-accompanying (Excl. from score)",
        labelDependents: "Number of Dependents",
        none: "None",
        labelCanadaStatus: "Current Status in Canada",
        statusAbroad: "None (Living Abroad)",
        statusStudent: "Student Visa",
        statusWork: "Work Permit",
        statusVisitor: "Visitor Visa",
        acc2Title: "Education",
        acc2Sub: "Academic Background",
        labelEdu: "Highest Education",
        eduPlaceholder: "Select Education",
        eduHigh: "High School Graduation",
        edu1y: "1-year post-secondary program",
        edu2y: "2-year post-secondary program",
        eduBach: "Bachelor's degree (3+ years)",
        edu2plus: "Two or more degrees (One must be 3+ years)",
        eduMast: "Master's degree",
        eduPhd: "Doctoral degree (PhD)",
        labelEduCountry: "Country of Study",
        abroad: "Abroad",
        canada: "Canada",
        both: "Both (Abroad + Canada)",
        labelEca: "ECA Completed? (For foreign degrees)",
        labelCanStudy: "Study in Canada",
        canStudyNone: "None",
        canStudy12y: "1-2 year program graduation",
        canStudy3y: "3+ years or Master/PhD graduation",
        acc3Title: "Language Proficiency",
        acc3Sub: "English & French Scores",
        labelLangTest: "English Test Type",
        labelLangL: "Listening (L)",
        labelLangR: "Reading (R)",
        labelLangW: "Writing (W)",
        labelLangS: "Speaking (S)",
        labelClbRes: "CLB Auto-calculation",
        clbDefault: "Calculated after entering language scores",
        labelFrench: "French Scores (Optional)",
        labelFrenchTest: "French Test Type",
        labelFrenchClb: "French CLB Level",
        frenchClb4: "CLB 4 or less",
        frenchClb56: "CLB 5~6",
        frenchClb78: "CLB 7~8",
        frenchClb9: "CLB 9 or higher",
        acc4Title: "Work Experience & Job Offer",
        acc4Sub: "Professional Experience",
        canExpTitle: "Work Experience in Canada",
        labelCanExpY: "Canadian Skilled Work Exp (Years)",
        labelCanNoc: "Canadian Job NOC Code",
        labelTeerDisplay: "TEER / Job Title (Auto-display)",
        teerDefault: "Displayed after entering NOC code",
        foreignExpTitle: "Foreign Work Experience",
        labelForeignExpY: "Foreign Skilled Work Exp (Last 10y)",
        labelForeignNoc: "Foreign Job NOC Code",
        jobOfferTitle: "Job Offer",
        labelHasJob: "Valid Job Offer?",
        jobRegular: "Yes (Regular skilled, TEER 1-3)",
        jobSenior: "Yes (Senior Manager, TEER 0)",
        labelLmia: "LMIA Approved?",
        lmiaYes: "Yes, LMIA Approved",
        lmiaExempt: "LMIA Exempt (C10/C11, etc.)",
        labelEmpPnp: "Employer PNP Link Possible?",
        acc5Title: "Additional Points",
        acc5Sub: "Bonus Factors",
        labelSibling: "Sibling in Canada",
        labelPnp: "PNP Nomination",
        pnpPlus600: "Yes (+600 points)",
        labelTrade: "Certificate of Qualification (FST)",
        acc6Title: "Preferences & Profile",
        acc6Sub: "Personal Preferences",
        labelProvince: "Preferred Province",
        anyProvince: "No preference (All regions)",
        labelRural: "Willing to settle in Rural/Small towns?",
        labelAtlantic: "Willing to settle in Atlantic regions?",
        labelOccGroup: "Occupation Category",
        occOthers: "Other Skilled Occupations",
        labelSalary: "Current Annual Salary (CAD)",
        salaryNone: "No info",
        labelBusiness: "Interested in Business Immigration?",
        acc7Title: "Strategy Simulation",
        acc7Sub: "What-if Scenarios",
        simP: "Select options below to see how your score could improve in the analysis report.",
        labelSimIelts: "Willing to retake IELTS?",
        labelSimFrench: "Willing to study French?",
        labelSimExp: "Plan for more work exp? (Within 1y)",
        labelSimSpouse: "Spouse willing to take IELTS?",
        labelSimEmp: "Possible to change employer?",
        spouseSectionTitle: "Spouse Information (If accompanying)",
        labelSpouseEdu: "Spouse Highest Education",
        labelSpouseLang: "Spouse English CLB Level",
        labelSpouseExp: "Spouse Canadian Work Exp",
        btnAnalyze: "Start AI Optimal Path Analysis",
        nocH2: "Find Your NOC Code (2021)",
        nocP: "Finding the 5-digit NOC code that matches your job is the first step. Enter keywords or job titles (<b>English only</b>).",
        nocSearchPlaceholder: "e.g. Software, Nurse, Manager, Cook...",
        nocDefaultText: "Related NOC codes will be displayed after entering keywords.",
        nocDisclaimer: "* This list focuses on major skilled trades. Refer to the official IRCC website for exact matching.",
        drawsH2: "Latest Express Entry Draw Results",
        drawsP: "Recent EE Invitation to Apply (ITA) results from IRCC. Compare your score with the latest cut-offs.",
        thDate: "Date",
        thType: "Draw Type",
        thInvitations: "Invitations",
        thScore: "Cut-off Score (CRS)",
        drawsDisclaimer: "* PNP draws include the 600-point provincial nomination bonus.",
        guideH2: "What is Express Entry?",
        guideP1: "Express Entry is a system used by the Canadian government to manage applications for permanent residence from skilled workers. It includes three main programs:",
        liFswp: "Federal Skilled Worker Program (FSWP): For skilled workers with foreign experience.",
        liFstp: "Federal Skilled Trades Program (FSTP): For workers in specific technical trades.",
        liCec: "Canadian Experience Class (CEC): For skilled workers with Canadian work experience.",
        clbTableH3: "Detailed CLB Score Table",
        clbTableP: "CLB conversion table for <strong>IELTS General Training</strong> and <strong>CELPIP General</strong>. Aiming for <strong>CLB 9 or higher</strong> is recommended for high EE scores.",
        thClb: "CLB Level",
        thTest: "Test Type",
        howToRaiseH3: "How to Increase Your CRS Score?",
        howToRaiseP: "If your score is below the recent cut-offs, consider these strategies:",
        liRaiseLang: "Improve Language Scores: Achieving CLB 9 or 10 in IELTS/CELPIP significantly boosts your points.",
        liRaisePnp: "Provincial Nomination (PNP): Getting a nomination automatically adds 600 points.",
        liRaiseExp: "Gain Experience: Additional work experience, especially in Canada, adds high bonus points.",
        liRaiseEdu: "Obtain Higher Education: A Master's or PhD degree greatly increases your human capital points.",
        articlesH2: "Latest Immigration News & Guides",
        contactH2: "Contact & Partnership",
        contactP: "Have questions or interested in partnership? Contact us!",
        labelName: "Name:",
        namePlaceholder: "John Doe",
        labelEmail: "Email:",
        labelMessage: "Message:",
        messagePlaceholder: "Enter your message here...",
        btnSubmit: "Send Message",
        footerRights: "Â© 2026 Canada PR Builder. All rights reserved.",
        footerPrivacy: "Privacy Policy",
        footerContact: "Support Center"
    }
};

let currentLang = localStorage.getItem('lang') || 'ko';

function updateLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);
    document.documentElement.lang = lang;

    const t = translations[lang];

    // Page Title
    document.title = t.title;

    // Header
    document.querySelector('header h1').textContent = "Canada PR Builder";
    document.getElementById('header-subtitle').textContent = t.headerSubtitle;
    document.getElementById('langToggle').textContent = t.langToggle;
    const themeToggle = document.getElementById('themeToggle');
    const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
    themeToggle.textContent = isDark ? t.themeToggleLight : t.themeToggleDark;

    // Navigation
    const navLinks = document.querySelectorAll('#mainNav a');
    navLinks[0].textContent = t.navHome;
    navLinks[1].textContent = t.navCalculator;
    navLinks[2].textContent = t.navGuide;
    navLinks[3].textContent = t.navArticles;
    navLinks[4].textContent = t.navContact;

    // Home
    document.querySelector('#home h2').textContent = t.homeH2;
    document.querySelector('#home p').textContent = t.homeP;

    // Calculator
    document.querySelector('#calculator h2').textContent = t.calcH2;
    document.querySelector('#calculator > p').innerHTML = t.calcP;
    
    // Accordion 1
    document.querySelector('#acc1 .acc-header div > div').textContent = t.acc1Title;
    document.querySelector('#acc1 .acc-sub').textContent = t.acc1Sub;
    const acc1Labels = document.querySelectorAll('#acc-body1 .input-group label');
    acc1Labels[0].textContent = t.labelBirthYear;
    acc1Labels[1].textContent = t.labelBirthMonth;
    acc1Labels[2].textContent = t.labelAge;
    acc1Labels[3].textContent = t.labelMarital;
    acc1Labels[4].textContent = t.labelSpouseAcc;
    acc1Labels[5].textContent = t.labelDependents;
    acc1Labels[6].textContent = t.labelCanadaStatus;
    
    document.getElementById('birthYear').placeholder = t.placeholderBirthYear;
    document.getElementById('ageDisplay').textContent = t.ageDefault;
    
    const maritalSelect = document.getElementById('maritalStatus');
    maritalSelect.options[0].textContent = t.single;
    maritalSelect.options[1].textContent = t.married;
    
    const spouseAccSelect = document.getElementById('spouseAccompany');
    spouseAccSelect.options[0].textContent = t.accompany;
    spouseAccSelect.options[1].textContent = t.nonAccompany;

    const canadaStatusSelect = document.getElementById('canadaStatus');
    canadaStatusSelect.options[0].textContent = t.statusAbroad;
    canadaStatusSelect.options[1].textContent = t.statusStudent;
    canadaStatusSelect.options[2].textContent = t.statusWork;
    canadaStatusSelect.options[3].textContent = t.statusVisitor;

    // Accordion 2
    document.querySelector('#acc2 .acc-header div > div').textContent = t.acc2Title;
    document.querySelector('#acc2 .acc-sub').textContent = t.acc2Sub;
    const acc2Labels = document.querySelectorAll('#acc-body2 .input-group label');
    acc2Labels[0].textContent = t.labelEdu;
    acc2Labels[1].textContent = t.labelEduCountry;
    acc2Labels[2].textContent = t.labelEca;
    acc2Labels[3].textContent = t.labelCanStudy;
    
    const eduSelect = document.getElementById('education');
    eduSelect.options[0].textContent = t.eduPlaceholder;
    eduSelect.options[1].textContent = t.eduHigh;
    eduSelect.options[2].textContent = t.edu1y;
    eduSelect.options[3].textContent = t.edu2y;
    eduSelect.options[4].textContent = t.eduBach;
    eduSelect.options[5].textContent = t.edu2plus;
    eduSelect.options[6].textContent = t.eduMast;
    eduSelect.options[7].textContent = t.eduPhd;

    const eduCountrySelect = document.getElementById('eduCountry');
    eduCountrySelect.options[0].textContent = t.abroad;
    eduCountrySelect.options[1].textContent = t.canada;
    eduCountrySelect.options[2].textContent = t.both;

    const ecaDoneSelect = document.getElementById('ecaDone');
    ecaDoneSelect.options[0].textContent = t.no;
    ecaDoneSelect.options[1].textContent = t.yes;

    const canadianStudySelect = document.getElementById('canadianStudy');
    canadianStudySelect.options[0].textContent = t.canStudyNone;
    canadianStudySelect.options[1].textContent = t.canStudy12y;
    canadianStudySelect.options[2].textContent = t.canStudy3y;

    // Accordion 3
    document.querySelector('#acc3 .acc-header div > div').textContent = t.acc3Title;
    document.querySelector('#acc3 .acc-sub').textContent = t.acc3Sub;
    const acc3Labels = document.querySelectorAll('#acc-body3 .calc-grid .input-group label');
    acc3Labels[0].textContent = t.labelLangTest;
    // Labels for individual language parts are updated via updateLangPlaceholders()
    acc3Labels[5].textContent = t.labelClbRes;
    document.getElementById('clbDisplay').textContent = t.clbDefault;
    document.querySelector('#acc-body3 div[style*="dashed"] div').textContent = t.labelFrench;
    const frenchLabels = document.querySelectorAll('#acc-body3 div[style*="dashed"] .input-group label');
    frenchLabels[0].textContent = t.labelFrenchTest;
    frenchLabels[1].textContent = t.labelFrenchClb;
    
    const frenchTestSelect = document.getElementById('frenchTest');
    frenchTestSelect.options[0].textContent = t.none;
    
    const frenchClbSelect = document.getElementById('frenchCLB');
    frenchClbSelect.options[0].textContent = t.frenchClb4;
    frenchClbSelect.options[1].textContent = t.frenchClb56;
    frenchClbSelect.options[2].textContent = t.frenchClb78;
    frenchClbSelect.options[3].textContent = t.frenchClb9;

    // Accordion 4
    document.querySelector('#acc4 .acc-header div > div').textContent = t.acc4Title;
    document.querySelector('#acc4 .acc-sub').textContent = t.acc4Sub;
    const expHeads = document.querySelectorAll('#acc-body4 > div[style*="font-weight:600"]');
    expHeads[0].textContent = t.canExpTitle;
    expHeads[1].textContent = t.foreignExpTitle;
    expHeads[2].textContent = t.jobOfferTitle;
    
    const acc4Labels = document.querySelectorAll('#acc-body4 .input-group label');
    acc4Labels[0].textContent = t.labelCanExpY;
    acc4Labels[1].textContent = t.labelCanNoc;
    acc4Labels[2].textContent = t.labelTeerDisplay;
    acc4Labels[3].textContent = t.labelForeignExpY;
    acc4Labels[4].textContent = t.labelForeignNoc;
    acc4Labels[5].textContent = t.labelTeerDisplay;
    acc4Labels[6].textContent = t.labelHasJob;
    acc4Labels[7].textContent = t.labelLmia;
    acc4Labels[8].textContent = t.labelEmpPnp;
    
    document.getElementById('canadianTEER').textContent = t.teerDefault;
    document.getElementById('foreignTEER').textContent = t.teerDefault;

    const canExpYSelect = document.getElementById('canadianExpYears');
    canExpYSelect.options[0].textContent = t.none;
    const forExpYSelect = document.getElementById('foreignExpYears');
    forExpYSelect.options[0].textContent = t.none;

    const hasJobSelect = document.getElementById('hasJobOffer');
    hasJobSelect.options[0].textContent = t.no;
    hasJobSelect.options[1].textContent = t.jobRegular;
    hasJobSelect.options[2].textContent = t.jobSenior;

    const lmiaSelect = document.getElementById('lmia');
    lmiaSelect.options[0].textContent = t.lmiaYes;
    lmiaSelect.options[1].textContent = t.lmiaExempt;
    lmiaSelect.options[2].textContent = t.no;

    const empPnpSelect = document.getElementById('employerPNP');
    empPnpSelect.options[0].textContent = t.no;
    empPnpSelect.options[1].textContent = t.yes;

    // Accordion 5
    document.querySelector('#acc5 .acc-header div > div').textContent = t.acc5Title;
    document.querySelector('#acc5 .acc-sub').textContent = t.acc5Sub;
    const acc5Labels = document.querySelectorAll('#acc-body5 .input-group label');
    acc5Labels[0].textContent = t.labelSibling;
    acc5Labels[1].textContent = t.labelPnp;
    acc5Labels[2].textContent = t.labelTrade;
    
    const sibSelect = document.getElementById('sibling');
    sibSelect.options[0].textContent = t.no;
    sibSelect.options[1].textContent = t.yes;
    
    const pnpSelect = document.getElementById('hasPNP');
    pnpSelect.options[0].textContent = t.none;
    pnpSelect.options[1].textContent = t.pnpPlus600;

    const tradeSelect = document.getElementById('tradeOccupation');
    tradeSelect.options[0].textContent = t.no;
    tradeSelect.options[1].textContent = t.yes;

    // Accordion 6
    document.querySelector('#acc6 .acc-header div > div').textContent = t.acc6Title;
    document.querySelector('#acc6 .acc-sub').textContent = t.acc6Sub;
    const acc6Labels = document.querySelectorAll('#acc-body6 .input-group label');
    acc6Labels[0].textContent = t.labelProvince;
    acc6Labels[1].textContent = t.labelRural;
    acc6Labels[2].textContent = t.labelAtlantic;
    acc6Labels[3].textContent = t.labelOccGroup;
    acc6Labels[4].textContent = t.labelSalary;
    acc6Labels[5].textContent = t.labelBusiness;
    
    document.getElementById('targetProvince').options[0].textContent = t.anyProvince;
    
    const occGroupSelect = document.getElementById('occupationGroup');
    occGroupSelect.options[0].textContent = t.occOthers;
    
    const salarySelect = document.getElementById('currentSalary');
    salarySelect.options[0].textContent = t.salaryNone;

    // Accordion 7
    document.querySelector('#acc7 .acc-header div > div').textContent = t.acc7Title;
    document.querySelector('#acc7 .acc-sub').textContent = t.acc7Sub;
    document.querySelector('#acc-body7 p').textContent = t.simP;
    const acc7Labels = document.querySelectorAll('#acc-body7 .input-group label');
    acc7Labels[0].textContent = t.labelSimIelts;
    acc7Labels[1].textContent = t.labelSimFrench;
    acc7Labels[2].textContent = t.labelSimExp;
    acc7Labels[3].textContent = t.labelSimSpouse;
    acc7Labels[4].textContent = t.labelSimEmp;

    // Spouse Section
    document.querySelector('#spouseSection h3').textContent = t.spouseSectionTitle;
    const spouseLabels = document.querySelectorAll('#spouseSection .input-group label');
    spouseLabels[0].textContent = t.labelSpouseEdu;
    spouseLabels[1].textContent = t.labelSpouseLang;
    spouseLabels[2].textContent = t.labelSpouseExp;
    
    // Analyze Button
    document.querySelector('button[onclick="calculateCRS()"]').textContent = t.btnAnalyze;

    // NOC Finder
    document.querySelector('#noc-finder h2').textContent = t.nocH2;
    document.querySelector('#noc-finder p').innerHTML = t.nocP;
    document.getElementById('nocSearchInput').placeholder = t.nocSearchPlaceholder;
    const nocResultsP = document.querySelector('#nocResults p');
    if (nocResultsP) nocResultsP.textContent = t.nocDefaultText;
    document.querySelector('#noc-finder > p:last-child').textContent = t.nocDisclaimer;

    // Latest Draws Section header, description, table headers, disclaimer
    document.querySelector('#latest-draws h2').textContent = t.drawsH2;
    const drawsPs = document.querySelectorAll('#latest-draws > p');
    if (drawsPs[0]) drawsPs[0].textContent = t.drawsP;
    if (drawsPs[1]) drawsPs[1].textContent = t.drawsDisclaimer;
    const drawThs = document.querySelectorAll('#latest-draws thead th');
    if (drawThs.length >= 4) {
        drawThs[0].textContent = t.thDate;
        drawThs[1].textContent = t.thType;
        drawThs[2].textContent = t.thInvitations;
        drawThs[3].textContent = t.thScore;
    }

    // Draws Table Body
    const drawRows = document.querySelectorAll('#latest-draws tbody tr');
    if (lang === 'ko') {
        drawRows[0].children[0].textContent = "2026ë…„ 2ì›” 22ì¼";
        drawRows[1].children[0].textContent = "2026ë…„ 2ì›” 18ì¼";
        drawRows[2].children[0].textContent = "2026ë…„ 2ì›” 11ì¼";
        drawRows[3].children[0].textContent = "2026ë…„ 2ì›” 4ì¼";
        drawRows[4].children[0].textContent = "2026ë…„ 1ì›” 28ì¼";
        drawRows[5].children[0].textContent = "2026ë…„ 1ì›” 21ì¼";
        drawRows[0].children[1].textContent = "í—¬ìŠ¤ì¼€ì–´ & ì†Œì…œ ì„œë¹„ìŠ¤ (ì˜¬í•´ ì²« ì„ ë°œ)";
        drawRows[1].children[1].textContent = "í”„ë‘ìŠ¤ì–´ ìš°ìˆ˜ì";
        drawRows[2].children[1].textContent = "ë³´ê±´ ì˜ë£Œ ì¸ë ¥";
        drawRows[3].children[1].textContent = "ì£¼ì •ë¶€ ì´ë¯¼ (PNP)";
        drawRows[4].children[1].textContent = "STEM ì „ë¬¸ê°€";
        drawRows[5].children[1].textContent = "ì¼ë°˜ ì„ ë°œ (All)";

        drawRows.forEach(row => {
            row.children[2].textContent = row.children[2].textContent.replace('ëª…', '').replace('ITAs','').trim() + 'ëª…';
            row.children[3].textContent = row.children[3].textContent.replace('ì ', '').replace('pts','').trim() + 'ì ';
        });
    } else {
        drawRows[0].children[0].textContent = "Feb 22, 2026";
        drawRows[1].children[0].textContent = "Feb 18, 2026";
        drawRows[2].children[0].textContent = "Feb 11, 2026";
        drawRows[3].children[0].textContent = "Feb 4, 2026";
        drawRows[4].children[0].textContent = "Jan 28, 2026";
        drawRows[5].children[0].textContent = "Jan 21, 2026";
        drawRows[0].children[1].textContent = "Healthcare & Social Services (First of 2026)";
        drawRows[1].children[1].textContent = "French-speaking Proficiency";
        drawRows[2].children[1].textContent = "Healthcare Occupations";
        drawRows[3].children[1].textContent = "Provincial Nominee Program (PNP)";
        drawRows[4].children[1].textContent = "STEM Professionals";
        drawRows[5].children[1].textContent = "General (All Programs)";

        drawRows.forEach(row => {
            row.children[2].textContent = row.children[2].textContent.replace('ëª…', '').replace('ITAs','').trim() + ' ITAs';
            row.children[3].textContent = row.children[3].textContent.replace('ì ', '').replace('pts','').trim() + ' pts';
        });
    }

    // Dashboard
    document.querySelector('#strategyResults h2').textContent = lang === 'ko' ? 'AI ë§ì¶¤í˜• ì „ëµ ë¦¬í¬íŠ¸' : 'AI Personalized Strategy Report';
    const statLabels = document.querySelectorAll('.stat-label');
    statLabels[0].textContent = lang === 'ko' ? 'ë‚˜ì˜ CRS ì ìˆ˜' : 'My CRS Score';
    statLabels[1].textContent = lang === 'ko' ? 'í•©ê²©ê¶Œê³¼ì˜ ê²©ì°¨' : 'Gap to ITA Cut-off';
    statLabels[2].textContent = lang === 'ko' ? 'ì„±ê³µ í™•ë¥ ' : 'Success Probability';

    // CLB Table
    const clbTableBody = document.querySelector('#guide tbody');
    if (clbTableBody) {
        // Since it's a fixed table, we can just update specific cells or use translations object
        const rows = clbTableBody.querySelectorAll('tr');
        // This is a bit tedious to do by cell, but reliable for static content
        if (lang === 'en') {
            // Update "ë“£ê¸°", "ì½ê¸°" etc in header
            const ths = document.querySelectorAll('#guide thead th');
            ths[2].textContent = "Listening (L)";
            ths[3].textContent = "Reading (R)";
            ths[4].textContent = "Writing (W)";
            ths[5].textContent = "Speaking (S)";
        } else {
            const ths = document.querySelectorAll('#guide thead th');
            ths[2].textContent = "ë“£ê¸° (L)";
            ths[3].textContent = "ì½ê¸° (R)";
            ths[4].textContent = "ì“°ê¸° (W)";
            ths[5].textContent = "ë§í•˜ê¸° (S)";
        }
    }

    // Guide
    document.querySelector('#guide h2').textContent = t.guideH2;
    document.querySelector('#guide > p').textContent = t.guideP1;
    const guideLis = document.querySelectorAll('#guide ul:first-of-type li');
    guideLis[0].innerHTML = `<strong>${t.liFswp.split(':')[0]}:</strong>${t.liFswp.split(':')[1]}`;
    guideLis[1].innerHTML = `<strong>${t.liFstp.split(':')[0]}:</strong>${t.liFstp.split(':')[1]}`;
    guideLis[2].innerHTML = `<strong>${t.liCec.split(':')[0]}:</strong>${t.liCec.split(':')[1]}`;
    
    document.querySelectorAll('#guide h3')[0].textContent = t.clbTableH3;
    document.querySelector('#guide > p:nth-of-type(2)').innerHTML = t.clbTableP;
    const clbThs = document.querySelectorAll('#guide table th');
    clbThs[0].textContent = t.thClb;
    clbThs[1].textContent = t.thTest;

    document.querySelectorAll('#guide h3')[1].textContent = t.howToRaiseH3;
    document.querySelector('#guide > p:nth-of-type(3)').textContent = t.howToRaiseP;
    const raiseLis = document.querySelectorAll('#guide ul:last-of-type li');
    raiseLis[0].innerHTML = `<strong>${t.liRaiseLang.split(':')[0]}:</strong>${t.liRaiseLang.split(':')[1]}`;
    raiseLis[1].innerHTML = `<strong>${t.liRaisePnp.split(':')[0]}:</strong>${t.liRaisePnp.split(':')[1]}`;
    raiseLis[2].innerHTML = `<strong>${t.liRaiseExp.split(':')[0]}:</strong>${t.liRaiseExp.split(':')[1]}`;
    raiseLis[3].innerHTML = `<strong>${t.liRaiseEdu.split(':')[0]}:</strong>${t.liRaiseEdu.split(':')[1]}`;

    // News
    document.querySelector('#articles h2').textContent = t.articlesH2;
    renderPosts();

    // Contact
    document.querySelector('#contact h2').textContent = t.contactH2;
    document.querySelector('#contact p').textContent = t.contactP;
    const contactLabels = document.querySelectorAll('#contact label');
    contactLabels[0].textContent = t.labelName;
    contactLabels[1].textContent = t.labelEmail;
    contactLabels[2].textContent = t.labelMessage;
    document.querySelector('#contact input[name="name"]').placeholder = t.namePlaceholder;
    document.querySelector('#contact textarea').placeholder = t.messagePlaceholder;
    document.querySelector('#contact button').textContent = t.btnSubmit;

    // Footer
    document.querySelector('footer p').textContent = t.footerRights;
    const footerLinks = document.querySelectorAll('.footer-links a');
    footerLinks[0].textContent = t.navHome;
    footerLinks[1].textContent = t.footerPrivacy;
    footerLinks[2].textContent = t.footerContact;

    updateLangPlaceholders();
    if (document.getElementById('birthYear').value) calcAge();
    if (document.getElementById('langL').value) calcCLB();

    // Re-run calculation if results are already shown to translate the breakdown and advice
    if (document.getElementById('strategyResults').style.display === 'block') {
        calculateCRS();
    }
}

// --- Comprehensive NOC 2021 Database (Canada.ca) ---
const nocData = [
    // TEER 0 - Management
    { code: "00010", title: "Legislators", teer: "0", cat: "Management" },
    { code: "00011", title: "Senior government managers and officials", teer: "0", cat: "Management" },
    { code: "00012", title: "Senior managers - financial, communications and business services", teer: "0", cat: "Management" },
    { code: "00013", title: "Senior managers - health, education, social and community services", teer: "0", cat: "Management" },
    { code: "00014", title: "Senior managers - trade, broadcasting and other services", teer: "0", cat: "Management" },
    { code: "00015", title: "Senior managers - construction, transportation, production and utilities", teer: "0", cat: "Management" },
    { code: "10010", title: "Financial managers", teer: "0", cat: "Management" },
    { code: "10011", title: "Human resources managers", teer: "0", cat: "Management" },
    { code: "10012", title: "Purchasing managers", teer: "0", cat: "Management" },
    { code: "10019", title: "Other administrative services managers", teer: "0", cat: "Management" },
    { code: "10020", title: "Insurance, real estate and financial brokerage managers", teer: "0", cat: "Management" },
    { code: "10021", title: "Banking, credit and other investment managers", teer: "0", cat: "Management" },
    { code: "10022", title: "Advertising, marketing and public relations managers", teer: "0", cat: "Management" },
    { code: "10029", title: "Other business services managers", teer: "0", cat: "Management" },
    { code: "10030", title: "Telecommunication carriers managers", teer: "0", cat: "Management" },
    { code: "20010", title: "Engineering managers", teer: "0", cat: "STEM" },
    { code: "20011", title: "Architecture and science managers", teer: "0", cat: "STEM" },
    { code: "20012", title: "Computer and information systems managers", teer: "0", cat: "STEM" },
    { code: "30010", title: "Managers in health care", teer: "0", cat: "Healthcare" },
    { code: "40010", title: "Government managers - health and social policy development", teer: "0", cat: "Management" },
    { code: "40011", title: "Government managers - economic analysis, policy development", teer: "0", cat: "Management" },
    { code: "40012", title: "Government managers - education policy development", teer: "0", cat: "Management" },
    { code: "40019", title: "Other managers in public administration", teer: "0", cat: "Management" },
    { code: "40020", title: "Administrators - post-secondary education and vocational training", teer: "0", cat: "Management" },
    { code: "40021", title: "School principals and administrators of elementary and secondary education", teer: "0", cat: "Management" },
    { code: "40030", title: "Managers in social, community and correctional services", teer: "0", cat: "Management" },
    { code: "40040", title: "Commissioned police officers and related occupations", teer: "0", cat: "Management" },
    { code: "40041", title: "Fire chiefs and senior firefighting officers", teer: "0", cat: "Management" },
    { code: "40042", title: "Commissioned officers of the Canadian Armed Forces", teer: "0", cat: "Management" },
    { code: "50010", title: "Library, archive, museum and art gallery managers", teer: "0", cat: "Management" },
    { code: "50011", title: "Managers - publishing, motion pictures, broadcasting and performing arts", teer: "0", cat: "Management" },
    { code: "50012", title: "Recreation, sports and fitness program and service directors", teer: "0", cat: "Management" },
    { code: "60010", title: "Corporate sales managers", teer: "0", cat: "Management" },
    { code: "60020", title: "Retail and wholesale trade managers", teer: "0", cat: "Management" },
    { code: "60030", title: "Restaurant and food service managers", teer: "0", cat: "Management" },
    { code: "60031", title: "Accommodation service managers", teer: "0", cat: "Management" },
    { code: "60040", title: "Managers in customer and personal services", teer: "0", cat: "Management" },
    { code: "70010", title: "Construction managers", teer: "0", cat: "Trades" },
    { code: "70011", title: "Home building and renovation managers", teer: "0", cat: "Trades" },
    { code: "70012", title: "Facility operation and maintenance managers", teer: "0", cat: "Trades" },
    { code: "70020", title: "Managers in transportation", teer: "0", cat: "Transport" },
    { code: "70021", title: "Postal and courier services managers", teer: "0", cat: "Transport" },
    { code: "80010", title: "Managers in natural resources production and fishing", teer: "0", cat: "Agriculture" },
    { code: "80020", title: "Managers in agriculture", teer: "0", cat: "Agriculture" },
    { code: "80021", title: "Managers in horticulture", teer: "0", cat: "Agriculture" },
    { code: "80022", title: "Managers in aquaculture", teer: "0", cat: "Agriculture" },
    { code: "90010", title: "Manufacturing managers", teer: "0", cat: "Management" },
    { code: "90011", title: "Utilities managers", teer: "0", cat: "Management" },
    // TEER 1 - University Degree
    { code: "11100", title: "Financial auditors and accountants", teer: "1", cat: "Management" },
    { code: "11101", title: "Financial and investment analysts", teer: "1", cat: "Management" },
    { code: "11102", title: "Financial advisors", teer: "1", cat: "Management" },
    { code: "11103", title: "Securities agents, investment dealers and brokers", teer: "1", cat: "Management" },
    { code: "11109", title: "Other financial officers", teer: "1", cat: "Management" },
    { code: "11200", title: "Human resources professionals", teer: "1", cat: "Management" },
    { code: "11201", title: "Professional occupations in business management consulting", teer: "1", cat: "Management" },
    { code: "11202", title: "Professional occupations in advertising, marketing and public relations", teer: "1", cat: "Management" },
    { code: "21100", title: "Physicists and astronomers", teer: "1", cat: "STEM" },
    { code: "21101", title: "Chemists", teer: "1", cat: "STEM" },
    { code: "21102", title: "Geoscientists and oceanographers", teer: "1", cat: "STEM" },
    { code: "21103", title: "Meteorologists and climatologists", teer: "1", cat: "STEM" },
    { code: "21109", title: "Other professional occupations in physical sciences", teer: "1", cat: "STEM" },
    { code: "21110", title: "Biologists and related scientists", teer: "1", cat: "STEM" },
    { code: "21111", title: "Forestry professionals", teer: "1", cat: "Agriculture" },
    { code: "21112", title: "Agricultural representatives, consultants and specialists", teer: "1", cat: "Agriculture" },
    { code: "21120", title: "Public and environmental health and safety professionals", teer: "1", cat: "Healthcare" },
    { code: "21200", title: "Architects", teer: "1", cat: "STEM" },
    { code: "21201", title: "Landscape architects", teer: "1", cat: "STEM" },
    { code: "21202", title: "Urban and land use planners", teer: "1", cat: "STEM" },
    { code: "21203", title: "Land surveyors", teer: "1", cat: "STEM" },
    { code: "21210", title: "Mathematicians, statisticians and actuaries", teer: "1", cat: "STEM" },
    { code: "21211", title: "Data scientists", teer: "1", cat: "STEM" },
    { code: "21220", title: "Cybersecurity specialists", teer: "1", cat: "STEM" },
    { code: "21221", title: "Business systems specialists", teer: "1", cat: "STEM" },
    { code: "21222", title: "Information systems specialists", teer: "1", cat: "STEM" },
    { code: "21223", title: "Database analysts and data administrators", teer: "1", cat: "STEM" },
    { code: "21230", title: "Computer systems developers and programmers", teer: "1", cat: "STEM" },
    { code: "21231", title: "Software engineers and designers", teer: "1", cat: "STEM" },
    { code: "21232", title: "Software developers and programmers", teer: "1", cat: "STEM" },
    { code: "21233", title: "Web designers", teer: "1", cat: "STEM" },
    { code: "21234", title: "Web developers and programmers", teer: "1", cat: "STEM" },
    { code: "21300", title: "Civil engineers", teer: "1", cat: "STEM" },
    { code: "21301", title: "Mechanical engineers", teer: "1", cat: "STEM" },
    { code: "21310", title: "Electrical and electronics engineers", teer: "1", cat: "STEM" },
    { code: "21311", title: "Computer engineers (except software)", teer: "1", cat: "STEM" },
    { code: "21320", title: "Chemical engineers", teer: "1", cat: "STEM" },
    { code: "21321", title: "Industrial and manufacturing engineers", teer: "1", cat: "STEM" },
    { code: "21322", title: "Metallurgical and materials engineers", teer: "1", cat: "STEM" },
    { code: "21330", title: "Mining engineers", teer: "1", cat: "STEM" },
    { code: "21331", title: "Geological engineers", teer: "1", cat: "STEM" },
    { code: "21332", title: "Petroleum engineers", teer: "1", cat: "STEM" },
    { code: "21390", title: "Aerospace engineers", teer: "1", cat: "STEM" },
    { code: "21399", title: "Other professional engineers", teer: "1", cat: "STEM" },
    { code: "31100", title: "Specialists in clinical and laboratory medicine", teer: "1", cat: "Healthcare" },
    { code: "31101", title: "Specialists in surgery", teer: "1", cat: "Healthcare" },
    { code: "31102", title: "General practitioners and family physicians", teer: "1", cat: "Healthcare" },
    { code: "31103", title: "Veterinarians", teer: "1", cat: "Healthcare" },
    { code: "31110", title: "Dentists", teer: "1", cat: "Healthcare" },
    { code: "31111", title: "Optometrists", teer: "1", cat: "Healthcare" },
    { code: "31112", title: "Audiologists and speech-language pathologists", teer: "1", cat: "Healthcare" },
    { code: "31120", title: "Pharmacists", teer: "1", cat: "Healthcare" },
    { code: "31121", title: "Dietitians and nutritionists", teer: "1", cat: "Healthcare" },
    { code: "31200", title: "Psychologists", teer: "1", cat: "Healthcare" },
    { code: "31201", title: "Chiropractors", teer: "1", cat: "Healthcare" },
    { code: "31202", title: "Physiotherapists", teer: "1", cat: "Healthcare" },
    { code: "31203", title: "Occupational therapists", teer: "1", cat: "Healthcare" },
    { code: "31204", title: "Kinesiologists and professional occupations in therapy", teer: "1", cat: "Healthcare" },
    { code: "31209", title: "Other professional occupations in health diagnosing and treating", teer: "1", cat: "Healthcare" },
    { code: "31300", title: "Nursing coordinators and supervisors", teer: "1", cat: "Healthcare" },
    { code: "31301", title: "Registered nurses and registered psychiatric nurses", teer: "1", cat: "Healthcare" },
    { code: "31302", title: "Nurse practitioners", teer: "1", cat: "Healthcare" },
    { code: "31303", title: "Physician assistants, midwives and allied health professionals", teer: "1", cat: "Healthcare" },
    { code: "41100", title: "Judges", teer: "1", cat: "Management" },
    { code: "41101", title: "Lawyers and Quebec notaries", teer: "1", cat: "Management" },
    { code: "41200", title: "University professors and lecturers", teer: "1", cat: "Management" },
    { code: "41201", title: "Post-secondary teaching and research assistants", teer: "1", cat: "Management" },
    { code: "41210", title: "College and other vocational instructors", teer: "1", cat: "Management" },
    { code: "41220", title: "Secondary school teachers", teer: "1", cat: "Management" },
    { code: "41221", title: "Elementary school and kindergarten teachers", teer: "1", cat: "Management" },
    { code: "41300", title: "Social workers", teer: "1", cat: "Management" },
    { code: "41301", title: "Therapists in counselling and related specialized therapies", teer: "1", cat: "Healthcare" },
    { code: "41302", title: "Religious leaders", teer: "1", cat: "Management" },
    { code: "41310", title: "Police investigators and other investigative occupations", teer: "1", cat: "Management" },
    { code: "41311", title: "Probation and parole officers", teer: "1", cat: "Management" },
    { code: "41320", title: "Educational counsellors", teer: "1", cat: "Management" },
    { code: "41321", title: "Career development practitioners and career counsellors", teer: "1", cat: "Management" },
    { code: "41400", title: "Natural and applied science policy researchers, consultants", teer: "1", cat: "STEM" },
    { code: "41401", title: "Economists and economic policy researchers and analysts", teer: "1", cat: "Management" },
    { code: "41402", title: "Business development officers and market researchers", teer: "1", cat: "Management" },
    { code: "41403", title: "Social policy researchers, consultants and program officers", teer: "1", cat: "Management" },
    { code: "41404", title: "Health policy researchers, consultants and program officers", teer: "1", cat: "Healthcare" },
    { code: "41405", title: "Education policy researchers, consultants and program officers", teer: "1", cat: "Management" },
    { code: "41406", title: "Recreation, sports and fitness policy researchers, consultants", teer: "1", cat: "Management" },
    { code: "41407", title: "Program officers unique to government", teer: "1", cat: "Management" },
    { code: "41409", title: "Other professional occupations in social science", teer: "1", cat: "Management" },
    { code: "51100", title: "Librarians", teer: "1", cat: "Management" },
    { code: "51101", title: "Conservators and curators", teer: "1", cat: "Management" },
    { code: "51102", title: "Archivists", teer: "1", cat: "Management" },
    { code: "51110", title: "Editors", teer: "1", cat: "Management" },
    { code: "51111", title: "Authors and writers (except technical)", teer: "1", cat: "Management" },
    { code: "51112", title: "Technical writers", teer: "1", cat: "Management" },
    { code: "51113", title: "Journalists", teer: "1", cat: "Management" },
    { code: "51114", title: "Translators, terminologists and interpreters", teer: "1", cat: "Management" },
    { code: "51120", title: "Producers, directors, choreographers and related occupations", teer: "1", cat: "Management" },
    { code: "51121", title: "Conductors, composers and arrangers", teer: "1", cat: "Management" },
    { code: "51122", title: "Musicians and singers", teer: "1", cat: "Management" },
    // TEER 2 - College Diploma / Apprenticeship (2+ years)
    { code: "12010", title: "Supervisors, general office and administrative support workers", teer: "2", cat: "Management" },
    { code: "12011", title: "Supervisors, finance and insurance office workers", teer: "2", cat: "Management" },
    { code: "12012", title: "Supervisors, library, correspondence and related information", teer: "2", cat: "Management" },
    { code: "12013", title: "Supervisors, supply chain, tracking and scheduling coordination", teer: "2", cat: "Management" },
    { code: "12100", title: "Executive assistants", teer: "2", cat: "Management" },
    { code: "12101", title: "Human resources and recruitment officers", teer: "2", cat: "Management" },
    { code: "12102", title: "Procurement and purchasing agents and officers", teer: "2", cat: "Management" },
    { code: "12103", title: "Conference and event planners", teer: "2", cat: "Management" },
    { code: "12104", title: "Employment insurance and revenue officers", teer: "2", cat: "Management" },
    { code: "12110", title: "Court reporters, medical transcriptionists and related", teer: "2", cat: "Management" },
    { code: "12111", title: "Health information management occupations", teer: "2", cat: "Healthcare" },
    { code: "12112", title: "Records management technicians", teer: "2", cat: "Management" },
    { code: "12113", title: "Statistical officers and related research support", teer: "2", cat: "Management" },
    { code: "12200", title: "Accounting technicians and bookkeepers", teer: "2", cat: "Management" },
    { code: "12201", title: "Insurance adjusters and claims examiners", teer: "2", cat: "Management" },
    { code: "12202", title: "Insurance underwriters", teer: "2", cat: "Management" },
    { code: "12203", title: "Assessors, business valuators and appraisers", teer: "2", cat: "Management" },
    { code: "22100", title: "Chemical technologists and technicians", teer: "2", cat: "STEM" },
    { code: "22101", title: "Geological and mineral technologists and technicians", teer: "2", cat: "STEM" },
    { code: "22110", title: "Biological technologists and technicians", teer: "2", cat: "STEM" },
    { code: "22111", title: "Agricultural and fish products inspectors", teer: "2", cat: "Agriculture" },
    { code: "22112", title: "Forestry technologists and technicians", teer: "2", cat: "Agriculture" },
    { code: "22113", title: "Conservation and fishery officers", teer: "2", cat: "Agriculture" },
    { code: "22114", title: "Landscape and horticulture technicians and specialists", teer: "2", cat: "Agriculture" },
    { code: "22210", title: "Architectural technologists and technicians", teer: "2", cat: "STEM" },
    { code: "22211", title: "Industrial designers", teer: "2", cat: "STEM" },
    { code: "22212", title: "Drafting technologists and technicians", teer: "2", cat: "STEM" },
    { code: "22213", title: "Land survey technologists and technicians", teer: "2", cat: "STEM" },
    { code: "22214", title: "Technical occupations in geomatics and meteorology", teer: "2", cat: "STEM" },
    { code: "22220", title: "Computer network and web technicians", teer: "2", cat: "STEM" },
    { code: "22221", title: "User support technicians", teer: "2", cat: "STEM" },
    { code: "22222", title: "Information systems testing technicians", teer: "2", cat: "STEM" },
    { code: "22230", title: "Non-destructive testers and inspectors", teer: "2", cat: "STEM" },
    { code: "22231", title: "Engineering inspectors and regulatory officers", teer: "2", cat: "STEM" },
    { code: "22232", title: "Occupational health and safety specialists", teer: "2", cat: "STEM" },
    { code: "22233", title: "Construction inspectors", teer: "2", cat: "Trades" },
    { code: "22300", title: "Civil engineering technologists and technicians", teer: "2", cat: "STEM" },
    { code: "22301", title: "Mechanical engineering technologists and technicians", teer: "2", cat: "STEM" },
    { code: "22302", title: "Industrial engineering and manufacturing technologists", teer: "2", cat: "STEM" },
    { code: "22303", title: "Construction estimators", teer: "2", cat: "Trades" },
    { code: "22310", title: "Electrical and electronics engineering technologists", teer: "2", cat: "STEM" },
    { code: "22311", title: "Electronic service technicians (household and business)", teer: "2", cat: "STEM" },
    { code: "22312", title: "Industrial instrument technicians and mechanics", teer: "2", cat: "STEM" },
    { code: "22313", title: "Aircraft instrument, electrical and avionics mechanics", teer: "2", cat: "Transport" },
    { code: "32100", title: "Opticians", teer: "2", cat: "Healthcare" },
    { code: "32101", title: "Licensed practical nurses", teer: "2", cat: "Healthcare" },
    { code: "32102", title: "Paramedical occupations", teer: "2", cat: "Healthcare" },
    { code: "32103", title: "Respiratory therapists, clinical perfusionists", teer: "2", cat: "Healthcare" },
    { code: "32104", title: "Animal health technologists and veterinary technicians", teer: "2", cat: "Healthcare" },
    { code: "32109", title: "Other technical occupations in therapy and assessment", teer: "2", cat: "Healthcare" },
    { code: "32110", title: "Denturists", teer: "2", cat: "Healthcare" },
    { code: "32111", title: "Dental hygienists and dental therapists", teer: "2", cat: "Healthcare" },
    { code: "32112", title: "Dental technologists and technicians", teer: "2", cat: "Healthcare" },
    { code: "32120", title: "Medical laboratory technologists", teer: "2", cat: "Healthcare" },
    { code: "32121", title: "Medical radiation technologists", teer: "2", cat: "Healthcare" },
    { code: "32122", title: "Medical sonographers", teer: "2", cat: "Healthcare" },
    { code: "32123", title: "Cardiology technologists and electrophysiological diagnostic technologists", teer: "2", cat: "Healthcare" },
    { code: "32124", title: "Pharmacy technicians", teer: "2", cat: "Healthcare" },
    { code: "32129", title: "Other medical technologists and technicians", teer: "2", cat: "Healthcare" },
    { code: "32200", title: "Traditional Chinese medicine practitioners and acupuncturists", teer: "2", cat: "Healthcare" },
    { code: "32201", title: "Massage therapists", teer: "2", cat: "Healthcare" },
    { code: "32209", title: "Other practitioners of natural healing", teer: "2", cat: "Healthcare" },
    { code: "52100", title: "Library and public archive technicians", teer: "2", cat: "Management" },
    { code: "52110", title: "Film and video camera operators", teer: "2", cat: "Management" },
    { code: "52111", title: "Graphic arts technicians", teer: "2", cat: "Management" },
    { code: "52112", title: "Broadcast technicians", teer: "2", cat: "Management" },
    { code: "52113", title: "Audio and video recording technicians", teer: "2", cat: "Management" },
    { code: "52114", title: "Announcers and other broadcasters", teer: "2", cat: "Management" },
    { code: "52119", title: "Other technical and coordinating occupations in motion pictures", teer: "2", cat: "Management" },
    { code: "52120", title: "Graphic designers and illustrators", teer: "2", cat: "Management" },
    { code: "52121", title: "Interior designers and interior decorators", teer: "2", cat: "Management" },
    { code: "62010", title: "Retail sales supervisors", teer: "2", cat: "Management" },
    { code: "62020", title: "Food service supervisors", teer: "2", cat: "Management" },
    { code: "62021", title: "Executive housekeepers", teer: "2", cat: "Management" },
    { code: "62022", title: "Accommodation, travel, tourism and related services supervisors", teer: "2", cat: "Management" },
    { code: "62023", title: "Customer and information services supervisors", teer: "2", cat: "Management" },
    { code: "62024", title: "Cleaning supervisors", teer: "2", cat: "Management" },
    { code: "62029", title: "Other services supervisors", teer: "2", cat: "Management" },
    { code: "62100", title: "Technical sales specialists - wholesale trade", teer: "2", cat: "Management" },
    { code: "62101", title: "Retail and wholesale buyers", teer: "2", cat: "Management" },
    { code: "62200", title: "Chefs", teer: "2", cat: "Trades" },
    { code: "62201", title: "Funeral directors and embalmers", teer: "2", cat: "Management" },
    { code: "62202", title: "Jewellers, jewellery and watch repairers", teer: "2", cat: "Trades" },
    { code: "72010", title: "Contractors and supervisors, machining and metal trades", teer: "2", cat: "Trades" },
    { code: "72011", title: "Contractors and supervisors, electrical trades", teer: "2", cat: "Trades" },
    { code: "72012", title: "Contractors and supervisors, pipefitting trades", teer: "2", cat: "Trades" },
    { code: "72013", title: "Contractors and supervisors, carpentry trades", teer: "2", cat: "Trades" },
    { code: "72014", title: "Contractors and supervisors, other construction trades", teer: "2", cat: "Trades" },
    { code: "72020", title: "Contractors and supervisors, mechanic trades", teer: "2", cat: "Trades" },
    { code: "72021", title: "Contractors and supervisors, heavy equipment operator crews", teer: "2", cat: "Trades" },
    { code: "72022", title: "Supervisors, printing and related occupations", teer: "2", cat: "Trades" },
    { code: "72023", title: "Supervisors, railway transport operations", teer: "2", cat: "Transport" },
    { code: "72024", title: "Supervisors, motor transport and other ground transit operators", teer: "2", cat: "Transport" },
    { code: "72025", title: "Supervisors, mail and message distribution occupations", teer: "2", cat: "Transport" },
    { code: "72100", title: "Machinists and machining and tooling inspectors", teer: "2", cat: "Trades" },
    { code: "72101", title: "Tool and die makers", teer: "2", cat: "Trades" },
    { code: "72102", title: "Sheet metal workers", teer: "2", cat: "Trades" },
    { code: "72103", title: "Boilermakers", teer: "2", cat: "Trades" },
    { code: "72104", title: "Structural metal and platework fabricators and fitters", teer: "2", cat: "Trades" },
    { code: "72105", title: "Ironworkers", teer: "2", cat: "Trades" },
    { code: "72106", title: "Welders and related machine operators", teer: "2", cat: "Trades" },
    { code: "72200", title: "Electricians (except industrial and power system)", teer: "2", cat: "Trades" },
    { code: "72201", title: "Industrial electricians", teer: "2", cat: "Trades" },
    { code: "72202", title: "Power system electricians", teer: "2", cat: "Trades" },
    { code: "72203", title: "Electrical power line and cable workers", teer: "2", cat: "Trades" },
    { code: "72204", title: "Telecommunications line and cable installers and repairers", teer: "2", cat: "Trades" },
    { code: "72205", title: "Telecommunications equipment installation and cable TV technicians", teer: "2", cat: "Trades" },
    { code: "72300", title: "Plumbers", teer: "2", cat: "Trades" },
    { code: "72301", title: "Steamfitters, pipefitters and sprinkler system installers", teer: "2", cat: "Trades" },
    { code: "72302", title: "Gas fitters", teer: "2", cat: "Trades" },
    { code: "72310", title: "Carpenters", teer: "2", cat: "Trades" },
    { code: "72311", title: "Cabinetmakers", teer: "2", cat: "Trades" },
    { code: "72320", title: "Bricklayers", teer: "2", cat: "Trades" },
    { code: "72321", title: "Insulators", teer: "2", cat: "Trades" },
    { code: "72400", title: "Construction millwrights and industrial mechanics", teer: "2", cat: "Trades" },
    { code: "72401", title: "Heavy-duty equipment mechanics", teer: "2", cat: "Trades" },
    { code: "72402", title: "Heating, refrigeration and air conditioning mechanics", teer: "2", cat: "Trades" },
    { code: "72403", title: "Railway carmen/women", teer: "2", cat: "Transport" },
    { code: "72404", title: "Aircraft mechanics and aircraft inspectors", teer: "2", cat: "Transport" },
    { code: "72405", title: "Machine fitters", teer: "2", cat: "Trades" },
    { code: "72406", title: "Elevator constructors and mechanics", teer: "2", cat: "Trades" },
    { code: "72410", title: "Automotive service technicians, truck and bus mechanics", teer: "2", cat: "Trades" },
    { code: "72411", title: "Auto body collision, refinishing and glass technicians", teer: "2", cat: "Trades" },
    { code: "72420", title: "Oil and solid fuel heating mechanics", teer: "2", cat: "Trades" },
    { code: "72421", title: "Appliance servicers and repairers", teer: "2", cat: "Trades" },
    { code: "72422", title: "Electrical mechanics", teer: "2", cat: "Trades" },
    { code: "72423", title: "Motorcycle, all-terrain vehicle and related mechanics", teer: "2", cat: "Trades" },
    { code: "72429", title: "Other small engine and small equipment repairers", teer: "2", cat: "Trades" },
    { code: "72500", title: "Crane operators", teer: "2", cat: "Trades" },
    { code: "72501", title: "Water well drillers", teer: "2", cat: "Trades" },
    { code: "72600", title: "Air pilots, flight engineers and flying instructors", teer: "2", cat: "Transport" },
    { code: "72601", title: "Air traffic controllers and related occupations", teer: "2", cat: "Transport" },
    { code: "72602", title: "Deck officers, water transport", teer: "2", cat: "Transport" },
    { code: "72603", title: "Engineer officers, water transport", teer: "2", cat: "Transport" },
    { code: "72604", title: "Railway traffic controllers and marine traffic regulators", teer: "2", cat: "Transport" },
    { code: "72999", title: "Other technical trades and related occupations", teer: "2", cat: "Trades" },
    { code: "82010", title: "Supervisors, logging and forestry", teer: "2", cat: "Agriculture" },
    { code: "82020", title: "Supervisors, mining and quarrying", teer: "2", cat: "Agriculture" },
    { code: "82021", title: "Contractors and supervisors, oil and gas drilling and services", teer: "2", cat: "Agriculture" },
    { code: "82030", title: "Agricultural service contractors and farm supervisors", teer: "2", cat: "Agriculture" },
    { code: "82031", title: "Contractors and supervisors, landscaping and horticulture services", teer: "2", cat: "Agriculture" },
    { code: "92010", title: "Supervisors, mineral and metal processing", teer: "2", cat: "Management" },
    { code: "92011", title: "Supervisors, petroleum, gas and chemical processing", teer: "2", cat: "Management" },
    { code: "92012", title: "Supervisors, food and beverage processing", teer: "2", cat: "Management" },
    { code: "92013", title: "Supervisors, plastic and rubber products manufacturing", teer: "2", cat: "Management" },
    { code: "92014", title: "Supervisors, forest products processing", teer: "2", cat: "Management" },
    { code: "92015", title: "Supervisors, textile, fabric, fur and leather products processing", teer: "2", cat: "Management" },
    { code: "92020", title: "Supervisors, motor vehicle assembling", teer: "2", cat: "Management" },
    { code: "92021", title: "Supervisors, electronics and electrical products manufacturing", teer: "2", cat: "Management" },
    { code: "92022", title: "Supervisors, furniture and fixtures manufacturing", teer: "2", cat: "Management" },
    { code: "92023", title: "Supervisors, other mechanical and metal products manufacturing", teer: "2", cat: "Management" },
    { code: "92024", title: "Supervisors, other products manufacturing and assembly", teer: "2", cat: "Management" },
    { code: "92100", title: "Power engineers and power systems operators", teer: "2", cat: "Trades" },
    { code: "92101", title: "Water and waste treatment plant operators", teer: "2", cat: "Trades" },
    // TEER 3 - College Diploma / Apprenticeship (<2 years)
    { code: "13100", title: "Administrative officers", teer: "3", cat: "Management" },
    { code: "13101", title: "Property administrators", teer: "3", cat: "Management" },
    { code: "13102", title: "Payroll administrators", teer: "3", cat: "Management" },
    { code: "13110", title: "Administrative assistants", teer: "3", cat: "Management" },
    { code: "13111", title: "Legal administrative assistants", teer: "3", cat: "Management" },
    { code: "13112", title: "Medical administrative assistants", teer: "3", cat: "Healthcare" },
    { code: "13200", title: "Customs, ship and other brokers", teer: "3", cat: "Management" },
    { code: "13201", title: "Production and transportation logistics coordinators", teer: "3", cat: "Transport" },
    { code: "33100", title: "Dental assistants and dental laboratory assistants", teer: "3", cat: "Healthcare" },
    { code: "33101", title: "Medical laboratory assistants and related technical occupations", teer: "3", cat: "Healthcare" },
    { code: "33102", title: "Nurse aides, orderlies and patient service associates", teer: "3", cat: "Healthcare" },
    { code: "33103", title: "Pharmacy technical assistants and pharmacy assistants", teer: "3", cat: "Healthcare" },
    { code: "33109", title: "Other assisting occupations in support of health services", teer: "3", cat: "Healthcare" },
    { code: "53100", title: "Registrars, restorers, interpreters and museum/gallery occupations", teer: "3", cat: "Management" },
    { code: "53110", title: "Photographers", teer: "3", cat: "Management" },
    { code: "53111", title: "Motion pictures, broadcasting, photography and performing arts assistants", teer: "3", cat: "Management" },
    { code: "53120", title: "Dancers", teer: "3", cat: "Management" },
    { code: "53121", title: "Actors, comedians and circus performers", teer: "3", cat: "Management" },
    { code: "53122", title: "Painters, sculptors and other visual artists", teer: "3", cat: "Management" },
    { code: "53123", title: "Theatre, fashion, exhibit and other creative designers", teer: "3", cat: "Management" },
    { code: "53124", title: "Artisans and craftspersons", teer: "3", cat: "Trades" },
    { code: "53125", title: "Patternmakers - textile, leather and fur products", teer: "3", cat: "Trades" },
    { code: "53200", title: "Athletes", teer: "3", cat: "Management" },
    { code: "53201", title: "Coaches", teer: "3", cat: "Management" },
    { code: "53202", title: "Sports officials and referees", teer: "3", cat: "Management" },
    { code: "63100", title: "Insurance agents and brokers", teer: "3", cat: "Management" },
    { code: "63101", title: "Real estate agents and salespersons", teer: "3", cat: "Management" },
    { code: "63102", title: "Financial sales representatives", teer: "3", cat: "Management" },
    { code: "63200", title: "Cooks", teer: "3", cat: "Trades" },
    { code: "63201", title: "Butchers - retail and wholesale", teer: "3", cat: "Trades" },
    { code: "63202", title: "Bakers", teer: "3", cat: "Trades" },
    { code: "63210", title: "Hairstylists and barbers", teer: "3", cat: "Management" },
    { code: "63211", title: "Estheticians, electrologists and related occupations", teer: "3", cat: "Management" },
    { code: "63220", title: "Shoe repairers and shoemakers", teer: "3", cat: "Trades" },
    { code: "63221", title: "Upholsterers", teer: "3", cat: "Trades" },
    { code: "73100", title: "Concrete finishers", teer: "3", cat: "Trades" },
    { code: "73101", title: "Tilesetters", teer: "3", cat: "Trades" },
    { code: "73102", title: "Plasterers, drywall installers and finishers and lathers", teer: "3", cat: "Trades" },
    { code: "73110", title: "Roofers and shinglers", teer: "3", cat: "Trades" },
    { code: "73111", title: "Glaziers", teer: "3", cat: "Trades" },
    { code: "73112", title: "Painters and decorators (except interior decorators)", teer: "3", cat: "Trades" },
    { code: "73113", title: "Floor covering installers", teer: "3", cat: "Trades" },
    { code: "73200", title: "Residential and commercial installers and servicers", teer: "3", cat: "Trades" },
    { code: "73201", title: "General building maintenance workers and building superintendents", teer: "3", cat: "Trades" },
    { code: "73202", title: "Pest controllers and fumigators", teer: "3", cat: "Trades" },
    { code: "73209", title: "Other repairers and servicers", teer: "3", cat: "Trades" },
    { code: "73300", title: "Transport truck drivers", teer: "3", cat: "Transport" },
    { code: "73301", title: "Bus drivers, subway operators and other transit operators", teer: "3", cat: "Transport" },
    { code: "73310", title: "Railway and yard locomotive engineers", teer: "3", cat: "Transport" },
    { code: "73311", title: "Railway conductors and brakemen/women", teer: "3", cat: "Transport" },
    { code: "73400", title: "Heavy equipment operators", teer: "3", cat: "Trades" },
    { code: "73401", title: "Printing press operators", teer: "3", cat: "Trades" },
    { code: "73402", title: "Drillers and blasters - surface mining, quarrying and construction", teer: "3", cat: "Trades" },
    { code: "83100", title: "Underground production and development miners", teer: "3", cat: "Agriculture" },
    { code: "83101", title: "Oil and gas well drillers, servicers, testers and related workers", teer: "3", cat: "Agriculture" },
    { code: "83110", title: "Logging machinery operators", teer: "3", cat: "Agriculture" },
    { code: "83120", title: "Fishing masters and officers", teer: "3", cat: "Agriculture" },
    { code: "83121", title: "Fishermen/women", teer: "3", cat: "Agriculture" },
    { code: "93100", title: "Central control and process operators, mineral and metal processing", teer: "3", cat: "Trades" },
    { code: "93101", title: "Central control and process operators, petroleum, gas and chemical", teer: "3", cat: "Trades" },
    { code: "93102", title: "Pulping, papermaking and coating control operators", teer: "3", cat: "Trades" },
    { code: "93200", title: "Aircraft assemblers and aircraft assembly inspectors", teer: "3", cat: "Transport" },
    // TEER 4 - High School Diploma
    { code: "14100", title: "General office support workers", teer: "4", cat: "Management" },
    { code: "14101", title: "Receptionists", teer: "4", cat: "Management" },
    { code: "14102", title: "Personnel clerks", teer: "4", cat: "Management" },
    { code: "14103", title: "Court clerks and related court services occupations", teer: "4", cat: "Management" },
    { code: "14110", title: "Survey interviewers and statistical clerks", teer: "4", cat: "Management" },
    { code: "14111", title: "Data entry clerks", teer: "4", cat: "Management" },
    { code: "14112", title: "Desktop publishing operators and related occupations", teer: "4", cat: "Management" },
    { code: "14200", title: "Accounting and related clerks", teer: "4", cat: "Management" },
    { code: "14201", title: "Banking, insurance and other financial clerks", teer: "4", cat: "Management" },
    { code: "14202", title: "Collection clerks", teer: "4", cat: "Management" },
    { code: "14300", title: "Library assistants and clerks", teer: "4", cat: "Management" },
    { code: "14301", title: "Correspondence, publication and regulatory clerks", teer: "4", cat: "Management" },
    { code: "14400", title: "Shippers and receivers", teer: "4", cat: "Transport" },
    { code: "14401", title: "Storekeepers and partspersons", teer: "4", cat: "Management" },
    { code: "14402", title: "Production logistics workers", teer: "4", cat: "Management" },
    { code: "14403", title: "Purchasing and inventory control workers", teer: "4", cat: "Management" },
    { code: "14404", title: "Dispatchers", teer: "4", cat: "Transport" },
    { code: "14405", title: "Transportation route and crew schedulers", teer: "4", cat: "Transport" },
    { code: "64100", title: "Retail salespersons and visual merchandisers", teer: "4", cat: "Management" },
    { code: "64101", title: "Sales and account representatives - wholesale trade (non-technical)", teer: "4", cat: "Management" },
    { code: "64200", title: "Tailors, dressmakers, furriers and milliners", teer: "4", cat: "Trades" },
    { code: "64201", title: "Image, social and other personal consultants", teer: "4", cat: "Management" },
    { code: "64300", title: "MaÃ®tres d'hÃ´tel and hosts/hostesses", teer: "4", cat: "Management" },
    { code: "64301", title: "Bartenders", teer: "4", cat: "Management" },
    { code: "64310", title: "Travel counsellors", teer: "4", cat: "Transport" },
    { code: "64311", title: "Pursers and flight attendants", teer: "4", cat: "Transport" },
    { code: "64312", title: "Airline ticket and service agents", teer: "4", cat: "Transport" },
    { code: "64313", title: "Ground and water transport ticket agents, cargo service representatives", teer: "4", cat: "Transport" },
    { code: "64314", title: "Hotel front desk clerks", teer: "4", cat: "Management" },
    { code: "64320", title: "Tour and travel guides", teer: "4", cat: "Transport" },
    { code: "64321", title: "Casino workers", teer: "4", cat: "Management" },
    { code: "64322", title: "Outdoor sport and recreational guides", teer: "4", cat: "Management" },
    { code: "64400", title: "Customer services representatives - financial institutions", teer: "4", cat: "Management" },
    { code: "64401", title: "Postal services representatives", teer: "4", cat: "Transport" },
    { code: "64409", title: "Other customer and information services representatives", teer: "4", cat: "Management" },
    { code: "64410", title: "Security guards and related security service occupations", teer: "4", cat: "Management" },
    { code: "74100", title: "Mail and parcel sorters and related occupations", teer: "4", cat: "Transport" },
    { code: "74101", title: "Letter carriers", teer: "4", cat: "Transport" },
    { code: "74102", title: "Couriers and messengers", teer: "4", cat: "Transport" },
    { code: "74200", title: "Railway yard and track maintenance workers", teer: "4", cat: "Transport" },
    { code: "74201", title: "Water transport deck and engine room crew", teer: "4", cat: "Transport" },
    { code: "74202", title: "Air transport ramp attendants", teer: "4", cat: "Transport" },
    { code: "74203", title: "Automotive and heavy truck and equipment parts installers", teer: "4", cat: "Trades" },
    { code: "74204", title: "Utility maintenance workers", teer: "4", cat: "Trades" },
    { code: "74205", title: "Public works maintenance equipment operators and related workers", teer: "4", cat: "Trades" },
    { code: "84100", title: "Underground mine service and support workers", teer: "4", cat: "Agriculture" },
    { code: "84101", title: "Oil and gas well drilling and related workers and services operators", teer: "4", cat: "Agriculture" },
    { code: "84110", title: "Chain saw and skidder operators", teer: "4", cat: "Agriculture" },
    { code: "84111", title: "Silviculture and forestry workers", teer: "4", cat: "Agriculture" },
    { code: "84120", title: "Specialized livestock workers and farm machinery operators", teer: "4", cat: "Agriculture" },
    { code: "84121", title: "Fishing vessel deckhands", teer: "4", cat: "Agriculture" },
    { code: "94100", title: "Machine operators, mineral and metal processing", teer: "4", cat: "Trades" },
    { code: "94101", title: "Foundry workers", teer: "4", cat: "Trades" },
    { code: "94102", title: "Glass forming and finishing machine operators and glass cutters", teer: "4", cat: "Trades" },
    { code: "94103", title: "Concrete, clay and stone forming operators", teer: "4", cat: "Trades" },
    { code: "94104", title: "Inspectors and testers, mineral and metal processing", teer: "4", cat: "Trades" },
    { code: "94105", title: "Metalworking and forging machine operators", teer: "4", cat: "Trades" },
    { code: "94106", title: "Machining tool operators", teer: "4", cat: "Trades" },
    { code: "94107", title: "Machine operators of other metal products", teer: "4", cat: "Trades" },
    { code: "94110", title: "Chemical plant machine operators", teer: "4", cat: "Trades" },
    { code: "94111", title: "Plastics processing machine operators", teer: "4", cat: "Trades" },
    { code: "94112", title: "Rubber processing machine operators and related workers", teer: "4", cat: "Trades" },
    { code: "94120", title: "Sawmill machine operators", teer: "4", cat: "Trades" },
    { code: "94121", title: "Pulp mill, papermaking and finishing machine operators", teer: "4", cat: "Trades" },
    { code: "94122", title: "Paper converting machine operators", teer: "4", cat: "Trades" },
    { code: "94123", title: "Lumber graders and other wood processing inspectors and graders", teer: "4", cat: "Trades" },
    { code: "94124", title: "Woodworking machine operators", teer: "4", cat: "Trades" },
    { code: "94129", title: "Other wood processing machine operators", teer: "4", cat: "Trades" },
    { code: "94130", title: "Textile fibre and yarn, hide and pelt processing machine operators", teer: "4", cat: "Trades" },
    { code: "94131", title: "Weavers, knitters and other fabric making occupations", teer: "4", cat: "Trades" },
    { code: "94132", title: "Industrial sewing machine operators", teer: "4", cat: "Trades" },
    { code: "94133", title: "Inspectors and graders, textile, fabric, fur and leather products", teer: "4", cat: "Trades" },
    { code: "94140", title: "Process control and machine operators, food and beverage processing", teer: "4", cat: "Trades" },
    { code: "94141", title: "Industrial butchers and meat cutters, poultry preparers", teer: "4", cat: "Trades" },
    { code: "94142", title: "Fish and seafood plant workers", teer: "4", cat: "Trades" },
    { code: "94143", title: "Testers and graders, food and beverage processing", teer: "4", cat: "Trades" },
    { code: "94150", title: "Plateless printing equipment operators", teer: "4", cat: "Trades" },
    { code: "94151", title: "Camera, platemaking and other prepress occupations", teer: "4", cat: "Trades" },
    { code: "94152", title: "Binding and finishing machine operators", teer: "4", cat: "Trades" },
    { code: "94153", title: "Photographic and film processors", teer: "4", cat: "Trades" },
    { code: "94200", title: "Motor vehicle assemblers, inspectors and testers", teer: "4", cat: "Trades" },
    { code: "94201", title: "Electronics assemblers, fabricators, inspectors and testers", teer: "4", cat: "Trades" },
    { code: "94202", title: "Assemblers and inspectors, electrical appliance, apparatus", teer: "4", cat: "Trades" },
    { code: "94203", title: "Assemblers, fabricators and inspectors, industrial electrical motors", teer: "4", cat: "Trades" },
    { code: "94204", title: "Mechanical assemblers and inspectors", teer: "4", cat: "Trades" },
    { code: "94205", title: "Machine operators and inspectors, electrical apparatus manufacturing", teer: "4", cat: "Trades" },
    { code: "94210", title: "Furniture and fixture assemblers, finishers, refinishers and inspectors", teer: "4", cat: "Trades" },
    { code: "94211", title: "Assemblers and inspectors of other wood products", teer: "4", cat: "Trades" },
    { code: "94212", title: "Plastic products assemblers, finishers and inspectors", teer: "4", cat: "Trades" },
    { code: "94213", title: "Industrial painters, coaters and metal finishing process operators", teer: "4", cat: "Trades" },
    { code: "94219", title: "Other products assemblers, finishers and inspectors", teer: "4", cat: "Trades" },
    // TEER 5 - Short-term Training / No Formal Education
    { code: "44100", title: "Home child care providers", teer: "5", cat: "Management" },
    { code: "44101", title: "Home support workers, caregivers and related occupations", teer: "5", cat: "Healthcare" },
    { code: "44200", title: "Primary combat members of the Canadian Armed Forces", teer: "5", cat: "Management" },
    { code: "45100", title: "Student monitors, crossing guards and related occupations", teer: "5", cat: "Management" },
    { code: "54100", title: "Program leaders and instructors in recreation, sport and fitness", teer: "5", cat: "Management" },
    { code: "55109", title: "Other performers", teer: "5", cat: "Management" },
    { code: "65100", title: "Cashiers", teer: "5", cat: "Management" },
    { code: "65101", title: "Service station attendants", teer: "5", cat: "Management" },
    { code: "65102", title: "Store shelf stockers, clerks and order fillers", teer: "5", cat: "Management" },
    { code: "65109", title: "Other sales related occupations", teer: "5", cat: "Management" },
    { code: "65200", title: "Food and beverage servers", teer: "5", cat: "Management" },
    { code: "65201", title: "Food counter attendants, kitchen helpers and support occupations", teer: "5", cat: "Management" },
    { code: "65202", title: "Meat cutters and fishmongers - retail and wholesale", teer: "5", cat: "Management" },
    { code: "65210", title: "Support occupations in accommodation, travel and facilities set-up", teer: "5", cat: "Management" },
    { code: "65211", title: "Operators and attendants in amusement, recreation and sport", teer: "5", cat: "Management" },
    { code: "65220", title: "Pet groomers and animal care workers", teer: "5", cat: "Agriculture" },
    { code: "65229", title: "Other support occupations in personal services", teer: "5", cat: "Management" },
    { code: "65310", title: "Light duty cleaners", teer: "5", cat: "Management" },
    { code: "65311", title: "Specialized cleaners", teer: "5", cat: "Management" },
    { code: "65312", title: "Janitors, caretakers and heavy-duty cleaners", teer: "5", cat: "Management" },
    { code: "65320", title: "Dry cleaning, laundry and related occupations", teer: "5", cat: "Management" },
    { code: "65329", title: "Other service support occupations", teer: "5", cat: "Management" },
    { code: "75100", title: "Longshore workers", teer: "5", cat: "Transport" },
    { code: "75101", title: "Material handlers", teer: "5", cat: "Transport" },
    { code: "75110", title: "Construction trades helpers and labourers", teer: "5", cat: "Trades" },
    { code: "75119", title: "Other trades helpers and labourers", teer: "5", cat: "Trades" },
    { code: "75200", title: "Taxi and limousine drivers and chauffeurs", teer: "5", cat: "Transport" },
    { code: "75201", title: "Delivery service drivers and door-to-door distributors", teer: "5", cat: "Transport" },
    { code: "75210", title: "Boat and cable ferry operators and related occupations", teer: "5", cat: "Transport" },
    { code: "75211", title: "Railway and motor transport labourers", teer: "5", cat: "Transport" },
    { code: "75212", title: "Public works and maintenance labourers", teer: "5", cat: "Trades" },
    { code: "85100", title: "Livestock labourers", teer: "5", cat: "Agriculture" },
    { code: "85101", title: "Harvesting labourers", teer: "5", cat: "Agriculture" },
    { code: "85102", title: "Aquaculture and marine harvest labourers", teer: "5", cat: "Agriculture" },
    { code: "85103", title: "Nursery and greenhouse labourers", teer: "5", cat: "Agriculture" },
    { code: "85104", title: "Trappers and hunters", teer: "5", cat: "Agriculture" },
    { code: "85110", title: "Mine labourers", teer: "5", cat: "Agriculture" },
    { code: "85111", title: "Oil and gas drilling, servicing and related labourers", teer: "5", cat: "Agriculture" },
    { code: "85120", title: "Logging and forestry labourers", teer: "5", cat: "Agriculture" },
    { code: "85121", title: "Landscaping and grounds maintenance labourers", teer: "5", cat: "Agriculture" }
];

window.filterNOC = function() {
    const input = document.getElementById('nocSearchInput').value.toLowerCase().trim();
    const resultsContainer = document.getElementById('nocResults');
    const t = translations[currentLang];
    
    if (input.length < 2) {
        resultsContainer.innerHTML = `<p style="text-align: center; padding: 20px; color: var(--text-muted);">${t.nocDefaultText}</p>`;
        return;
    }
    const keywords = input.split(' ');
    const filtered = nocData.filter(item => {
        const fullContent = (item.title + " " + item.code + " " + (item.cat || "")).toLowerCase();
        return keywords.every(kw => fullContent.includes(kw));
    });
    if (filtered.length === 0) {
        resultsContainer.innerHTML = `<p style="text-align: center; padding: 20px; color: var(--text-muted);">${currentLang === 'ko' ? 'ì¼ì¹˜í•˜ëŠ” ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.' : 'No matching results found.'}</p>`;
        return;
    }
    resultsContainer.innerHTML = filtered.map(item => `<div class="noc-item"><div class="noc-header"><span class="noc-code">${item.code}</span><span class="noc-teer">TEER ${item.teer}</span>${item.cat ? `<span class="noc-cat-badge">${item.cat}</span>` : ''}</div><div class="noc-title">${item.title}</div></div>`).join('');
};

window.openArticle = function(index) {
    const article = articlesData[currentLang][index];
    if (!article) return;
    const modal = document.getElementById("articleModal");
    const modalBody = document.getElementById("modalBody");
    const closeText = currentLang === 'ko' ? 'ë‹«ê¸°' : 'Close';
    modalBody.innerHTML = `<span class="article-badge">${article.badge}</span><h2>${article.title}</h2><div class="article-meta">${article.date}</div><div class="full-content">${article.content}</div><button class="read-more-btn" style="margin-top:30px; width:100%" id="modalCloseBtn">${closeText}</button>`;
    modal.style.display = "block";
    document.body.classList.add("modal-open");
    document.getElementById("modalCloseBtn").onclick = window.closeArticle;
};

window.closeArticle = function() {
    const modal = document.getElementById("articleModal");
    if (modal) { modal.style.display = "none"; document.body.classList.remove("modal-open"); }
};

document.addEventListener('DOMContentLoaded', () => {
    const nav = document.getElementById('mainNav');
    if (nav) {
        window.addEventListener('scroll', () => {
            if (window.scrollY > 100) { nav.style.padding = '8px 20px'; nav.style.top = '10px'; }
            else { nav.style.padding = '12px 30px'; nav.style.top = '20px'; }
        });
    }
    const themeToggle = document.getElementById('themeToggle');
    if (themeToggle) {
        themeToggle.addEventListener('click', () => {
            let theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            // Update button text
            const t = translations[currentLang];
            themeToggle.textContent = theme === 'dark' ? t.themeToggleLight : t.themeToggleDark;
        });
    }

    const langToggle = document.getElementById('langToggle');
    if (langToggle) {
        langToggle.addEventListener('click', () => {
            const newLang = currentLang === 'ko' ? 'en' : 'ko';
            updateLanguage(newLang);
        });
    }

    updateLanguage(currentLang);
    window.addEventListener('click', (e) => { if (e.target === document.getElementById("articleModal")) window.closeArticle(); });
    window.addEventListener('keydown', (e) => { if (e.key === "Escape") window.closeArticle(); });
});

// --- CORE ASSESSMENT LOGIC ---

// IELTS â†’ CLB conversion tables (per ability)
const ieltsToCLB = {
    L: [[8.5,10],[8.0,9],[7.5,8],[6.0,7],[5.5,6],[5.0,5],[4.5,4]],
    R: [[8.0,10],[7.0,9],[6.5,8],[6.0,7],[5.0,6],[4.0,5],[3.5,4]],
    W: [[7.5,10],[7.0,9],[6.5,8],[6.0,7],[5.5,6],[5.0,5],[4.0,4]],
    S: [[7.5,10],[7.0,9],[6.5,8],[6.0,7],[5.5,6],[5.0,5],[4.0,4]]
};

function convertToCLB(score, ability, testType) {
    if (!score) return 0;
    const s = parseFloat(score);
    if (testType === 'CELPIP') {
        if (s >= 10) return 10;
        if (s >= 9) return 9;
        if (s >= 8) return 8;
        if (s >= 7) return 7;
        if (s >= 6) return 6;
        if (s >= 5) return 5;
        if (s >= 4) return 4;
        return 0;
    }
    const table = ieltsToCLB[ability];
    if (!table) return 0;
    for (const [threshold, clb] of table) {
        if (s >= threshold) return clb;
    }
    return 0;
}

function calcAge() {
    const year = parseInt(document.getElementById('birthYear').value);
    const month = parseInt(document.getElementById('birthMonth').value) || 1;
    const display = document.getElementById('ageDisplay');
    if (!year || year < 1940 || year > 2010) {
        display.textContent = currentLang === 'ko' ? 'ì˜¬ë°”ë¥¸ ì¶œìƒ ì—°ë„ë¥¼ ì…ë ¥í•˜ì„¸ìš”' : 'Enter a valid birth year';
        return;
    }
    const today = new Date();
    let age = today.getFullYear() - year;
    if (today.getMonth() + 1 < month) age--;
    display.textContent = currentLang === 'ko' ? `ë§Œ ${age}ì„¸` : `Age ${age}`;
}

function calcCLB() {
    const testType = document.getElementById('langTest').value;
    const L = document.getElementById('langL').value;
    const R = document.getElementById('langR').value;
    const W = document.getElementById('langW').value;
    const S = document.getElementById('langS').value;
    const display = document.getElementById('clbDisplay');
    if (!L || !R || !W || !S) {
        display.textContent = currentLang === 'ko' ? '4ê°œ ì ìˆ˜ë¥¼ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”' : 'Enter all 4 scores';
        return;
    }
    const clbL = convertToCLB(L, 'L', testType);
    const clbR = convertToCLB(R, 'R', testType);
    const clbW = convertToCLB(W, 'W', testType);
    const clbS = convertToCLB(S, 'S', testType);
    const minCLB = Math.min(clbL, clbR, clbW, clbS);
    display.textContent = `L:${clbL} / R:${clbR} / W:${clbW} / S:${clbS} (${currentLang === 'ko' ? 'ìµœì €' : 'Min'} CLB ${minCLB})`;
}

function lookupNOC(inputId, displayId) {
    const val = document.getElementById(inputId).value.trim();
    const display = document.getElementById(displayId);
    const t = translations[currentLang];
    if (!val) { display.textContent = t.teerDefault; display.style.color = ''; return; }
    const found = nocData.find(n => n.code === val);
    if (found) {
        display.textContent = `TEER ${found.teer} â€” ${found.title}`;
        display.style.color = 'var(--primary)';
    } else {
        display.textContent = currentLang === 'ko' ? 'ì¼ì¹˜í•˜ëŠ” NOC ì½”ë“œ ì—†ìŒ' : 'No matching NOC code';
        display.style.color = 'var(--text-muted)';
    }
}

function toggleAcc(num) {
    const body = document.getElementById(`acc-body${num}`);
    const arrow = document.getElementById(`acc-arrow${num}`);
    if (!body) return;
    const isOpen = body.style.display !== 'none';
    body.style.display = isOpen ? 'none' : 'block';
    arrow.textContent = isOpen ? 'â–¼' : 'â–²';
}

function updateLangPlaceholders() {
    const testType = document.getElementById('langTest').value;
    const isIELTS = testType === 'IELTS';
    const t = translations[currentLang];
    const ph = isIELTS ? (currentLang === 'ko' ? 'ì˜ˆ: 8.0' : 'e.g. 8.0') : (currentLang === 'ko' ? 'ì˜ˆ: 9' : 'e.g. 9');
    ['langL','langR','langW','langS'].forEach(id => {
        const el = document.getElementById(id);
        if (el) {
            el.placeholder = ph;
            el.step = isIELTS ? '0.5' : '1';
        }
    });
    const lLabel = document.getElementById('langLLabel');
    const rLabel = document.getElementById('langRLabel');
    const wLabel = document.getElementById('langWLabel');
    const sLabel = document.getElementById('langSLabel');
    if (lLabel) lLabel.textContent = `${t.labelLangL} â€” ${testType} ${currentLang === 'ko' ? 'ì ìˆ˜' : 'Score'}`;
    if (rLabel) rLabel.textContent = `${t.labelLangR} â€” ${testType} ${currentLang === 'ko' ? 'ì ìˆ˜' : 'Score'}`;
    if (wLabel) wLabel.textContent = `${t.labelLangW} â€” ${testType} ${currentLang === 'ko' ? 'ì ìˆ˜' : 'Score'}`;
    if (sLabel) sLabel.textContent = `${t.labelLangS} â€” ${testType} ${currentLang === 'ko' ? 'ì ìˆ˜' : 'Score'}`;
    calcCLB();
}

function toggleFrenchSection() {
    const val = document.getElementById('frenchTest').value;
    document.getElementById('frenchClbDiv').style.display = val === 'none' ? 'none' : 'block';
}

function toggleJobOfferSection() {
    const val = document.getElementById('hasJobOffer').value;
    const show = val !== 'no';
    document.getElementById('lmiaDiv').style.display = show ? 'block' : 'none';
    document.getElementById('employerPNPDiv').style.display = show ? 'block' : 'none';
}

function toggleSpouseSection() {
    const status = document.getElementById('maritalStatus').value;
    const isMarried = status === 'married';
    document.getElementById('spouseSection').style.display = isMarried ? 'block' : 'none';
    document.getElementById('spouseAccompanyDiv').style.display = isMarried ? 'block' : 'none';
    document.getElementById('spouseIELTSDiv').style.display = isMarried ? 'block' : 'none';
}

// Per-ability CLB â†’ CRS language points
function clbToLangPts(clb, isMarried) {
    const singleMap = {10:34, 9:31, 8:23, 7:17, 6:9, 5:6, 4:6};
    const marriedMap = {10:32, 9:29, 8:22, 7:16, 6:8, 5:6, 4:6};
    const map = isMarried ? marriedMap : singleMap;
    const key = Math.min(10, Math.max(4, clb));
    return map[key] || 0;
}

function calculateCRS() {
    console.log("Analysis Triggered");
    const t = translations[currentLang];

    // --- Read Inputs ---
    const birthYear = parseInt(document.getElementById('birthYear').value) || 0;
    const birthMonth = parseInt(document.getElementById('birthMonth').value) || 1;
    const maritalStatus = document.getElementById('maritalStatus').value;
    const isMarried = (maritalStatus === 'married');
    const spouseAccompany = isMarried ? document.getElementById('spouseAccompany').value : 'no';
    const effectiveMarried = isMarried && spouseAccompany === 'yes';

    // Calculate age from birth year/month
    let age = 0;
    if (birthYear > 1940) {
        const today = new Date();
        age = today.getFullYear() - birthYear;
        if (today.getMonth() + 1 < birthMonth) age--;
    }

    const education = document.getElementById('education').value;
    const canadianStudy = parseInt(document.getElementById('canadianStudy').value) || 0;

    // Language (per ability)
    const testType = document.getElementById('langTest').value;
    const clbL = convertToCLB(document.getElementById('langL').value, 'L', testType);
    const clbR = convertToCLB(document.getElementById('langR').value, 'R', testType);
    const clbW = convertToCLB(document.getElementById('langW').value, 'W', testType);
    const clbS = convertToCLB(document.getElementById('langS').value, 'S', testType);
    const minCLB = (clbL && clbR && clbW && clbS) ? Math.min(clbL, clbR, clbW, clbS) : 0;

    // French
    const frenchTest = document.getElementById('frenchTest').value;
    const frenchCLB = frenchTest !== 'none' ? parseInt(document.getElementById('frenchCLB').value) || 0 : 0;

    // Experience
    const canadianExpYears = parseInt(document.getElementById('canadianExpYears').value) || 0;
    const foreignExpYears = parseInt(document.getElementById('foreignExpYears').value) || 0;

    // Job Offer
    const hasJobOffer = document.getElementById('hasJobOffer').value;

    // Additional
    const sibling = parseInt(document.getElementById('sibling').value) || 0;
    const hasPNP = parseInt(document.getElementById('hasPNP').value) || 0;
    const tradeOccupation = document.getElementById('tradeOccupation').value;

    // Preferences
    const targetProvince = document.getElementById('targetProvince').value;
    const ruralWilling = document.getElementById('ruralWilling').value;
    const atlanticWilling = document.getElementById('atlanticWilling').value;
    const occupationGroup = document.getElementById('occupationGroup').value;
    const businessIntent = document.getElementById('businessIntent').value;

    // Simulation
    const willingRetakeIELTS = document.getElementById('willingRetakeIELTS').value;
    const canStudyFrench = document.getElementById('canStudyFrench').value;
    const planMoreWork = document.getElementById('planMoreWork').value;
    const spouseIELTS = isMarried ? document.getElementById('spouseIELTS').value : 'no';
    const canChangeEmployer = document.getElementById('canChangeEmployer').value;

    // Spouse
    const spouseEdu = effectiveMarried ? document.getElementById('spouseEducation').value : '0';
    const spouseLang = effectiveMarried ? parseInt(document.getElementById('spouseLanguage').value) || 0 : 0;
    const spouseCanExp = effectiveMarried ? parseInt(document.getElementById('spouseCanadianExp').value) || 0 : 0;

    const breakdown = {};
    let total = 0;

    // --- 1. AGE (exact IRCC table) ---
    const ageTableSingle = {18:99,19:105,20:110,21:110,22:110,23:110,24:110,25:110,26:110,27:110,28:110,29:110,30:105,31:99,32:94,33:88,34:83,35:77,36:72,37:66,38:61,39:55,40:50,41:39,42:28,43:17,44:6};
    const ageTableMarried = {18:90,19:95,20:100,21:100,22:100,23:100,24:100,25:100,26:100,27:100,28:100,29:100,30:95,31:90,32:85,33:80,34:75,35:70,36:65,37:60,38:55,39:50,40:45,41:35,42:25,43:15,44:5};
    const ageTable = effectiveMarried ? ageTableMarried : ageTableSingle;
    const agePoints = ageTable[age] || 0;
    breakdown[currentLang === 'ko' ? 'ë‚˜ì´' : 'Age'] = agePoints;
    total += agePoints;

    // --- 2. EDUCATION ---
    const eduSingle = { highschool:30, oneyear:90, twoyear:98, bachelor:120, two_or_more:128, master:135, phd:150 };
    const eduMarried = { highschool:28, oneyear:84, twoyear:91, bachelor:112, two_or_more:119, master:126, phd:140 };
    const eduMap = effectiveMarried ? eduMarried : eduSingle;
    const eduPoints = eduMap[education] || 0;
    breakdown[currentLang === 'ko' ? 'í•™ë ¥' : 'Education'] = eduPoints;
    total += eduPoints;

    // --- 3. LANGUAGE (per-ability CLB) ---
    let langPoints = 0;
    if (clbL || clbR || clbW || clbS) {
        langPoints = clbToLangPts(clbL, effectiveMarried) + clbToLangPts(clbR, effectiveMarried) +
                     clbToLangPts(clbW, effectiveMarried) + clbToLangPts(clbS, effectiveMarried);
    }
    breakdown[currentLang === 'ko' ? 'ì–¸ì–´ (ì˜ì–´)' : 'Language (English)'] = langPoints;
    total += langPoints;

    // --- 4. CANADIAN EXPERIENCE ---
    const canExpSingle = {1:40, 2:53, 3:64, 4:72, 5:80};
    const canExpMarried = {1:35, 2:46, 3:56, 4:63, 5:70};
    const canExpMap = effectiveMarried ? canExpMarried : canExpSingle;
    const canExpPoints = canExpMap[Math.min(5, canadianExpYears)] || 0;
    breakdown[currentLang === 'ko' ? 'ìºë‚˜ë‹¤ ê²½ë ¥' : 'Canadian Experience'] = canExpPoints;
    total += canExpPoints;

    // --- 5. SPOUSE FACTORS ---
    if (effectiveMarried) {
        let spousePoints = 0;
        const spouseEduMap = { highschool:2, oneyear:6, twoyear:7, bachelor:8, master:10, phd:10 };
        spousePoints += spouseEduMap[spouseEdu] || 0;
        const spouseLangMap = {9:20, 8:16, 7:12, 6:8, 5:4};
        spousePoints += spouseLangMap[Math.min(9, spouseLang)] || 0;
        const spouseExpMap = {1:5, 2:7, 3:8, 4:9, 5:10};
        spousePoints += spouseExpMap[Math.min(5, spouseCanExp)] || 0;
        breakdown[currentLang === 'ko' ? 'ë°°ìš°ì ìš”ì†Œ' : 'Spouse Factors'] = spousePoints;
        total += spousePoints;
    }

    // --- 6. TRANSFERABILITY (max 100) ---
    let transfer = 0;
    const hasEdu = education !== 'highschool' && education !== '0';
    // A: Education + Language
    if (hasEdu && minCLB >= 9) transfer += 50;
    else if (hasEdu && minCLB >= 7) transfer += 25;
    // B: Education + Canadian Exp
    if (hasEdu && canadianExpYears >= 2) transfer += 25;
    else if (hasEdu && canadianExpYears >= 1) transfer += 13;
    // C: Foreign Exp + Canadian Exp
    if (foreignExpYears >= 1 && canadianExpYears >= 1) transfer += (foreignExpYears >= 3 ? 25 : 13);
    // D: Foreign Exp + Language
    if (foreignExpYears >= 1 && minCLB >= 7) transfer += (foreignExpYears >= 3 && minCLB >= 9 ? 25 : 13);
    // E: Trade + Language
    if (tradeOccupation === 'yes' && minCLB >= 7) transfer += (minCLB >= 9 ? 25 : 13);
    transfer = Math.min(100, transfer);
    breakdown[currentLang === 'ko' ? 'ì´ì „ì„± ì ìˆ˜' : 'Skill Transferability'] = transfer;
    total += transfer;

    // --- 7. ADDITIONAL POINTS ---
    // Foreign Experience
    const foreignExpMap = {1:13, 3:25};
    const foreignPts = foreignExpMap[foreignExpYears] || 0;
    if (foreignPts > 0) { breakdown[currentLang === 'ko' ? 'í•´ì™¸ ê²½ë ¥' : 'Foreign Exp'] = foreignPts; total += foreignPts; }

    // Job Offer
    let jobOfferPts = 0;
    if (hasJobOffer === 'yes_senior') jobOfferPts = 200;
    else if (hasJobOffer === 'yes_regular') jobOfferPts = 50;
    if (jobOfferPts > 0) { breakdown[currentLang === 'ko' ? 'ì¡ì˜¤í¼' : 'Job Offer'] = jobOfferPts; total += jobOfferPts; }

    // French language bonus
    let frenchPts = 0;
    if (frenchCLB >= 9) frenchPts = 50;
    else if (frenchCLB >= 7) frenchPts = 25;
    if (frenchPts > 0) { breakdown[currentLang === 'ko' ? 'ë¶ˆì–´' : 'French'] = frenchPts; total += frenchPts; }

    // PNP
    if (hasPNP > 0) { breakdown[currentLang === 'ko' ? 'PNP ë…¸ë¯¸ë„¤ì´ì…˜' : 'PNP Nomination'] = hasPNP; total += hasPNP; }

    // Canadian Study
    if (canadianStudy > 0) { breakdown[currentLang === 'ko' ? 'ìºë‚˜ë‹¤ í•™ì—…' : 'Canadian Study'] = canadianStudy; total += canadianStudy; }

    // Sibling
    if (sibling > 0) { breakdown[currentLang === 'ko' ? 'í˜•ì œ/ìë§¤' : 'Sibling in Canada'] = sibling; total += sibling; }

    const finalScore = Math.min(1200, total);

    // --- Build Profile Object ---
    const profile = {
        age, education, clbL, clbR, clbW, clbS, minCLB, frenchCLB,
        canadianExpYears, foreignExpYears, hasJobOffer, isMarried, effectiveMarried,
        targetProvince, ruralWilling, atlanticWilling, occupationGroup, businessIntent,
        tradeOccupation, hasPNP, sibling,
        willingRetakeIELTS, canStudyFrench, planMoreWork, spouseIELTS, canChangeEmployer,
        finalScore, breakdown
    };

    // --- Update Results UI ---
    document.getElementById('strategyResults').style.display = 'block';
    document.getElementById('res-crs').innerText = finalScore + (currentLang === 'ko' ? 'ì ' : ' pts');

    const RECENT_CUTOFF = 490;
    const gap = finalScore - RECENT_CUTOFF;
    const gapEl = document.getElementById('res-gap');
    gapEl.innerText = (gap >= 0 ? '+' : '') + gap + (currentLang === 'ko' ? 'ì ' : ' pts');
    gapEl.style.color = gap >= 0 ? '#16a34a' : 'var(--maple-red)';

    let prob = currentLang === 'ko' ? 'ë‚®ìŒ' : 'Low';
    if (finalScore >= 500) prob = currentLang === 'ko' ? 'ë§¤ìš° ë†’ìŒ' : 'Very High';
    else if (finalScore >= 470) prob = currentLang === 'ko' ? 'ë†’ìŒ' : 'High';
    else if (finalScore >= 430) prob = currentLang === 'ko' ? 'ì¤‘ê°„' : 'Medium';
    document.getElementById('res-prob').innerText = prob;

    renderScoreBreakdown(breakdown, finalScore);
    renderRecommendations(profile);
    renderSimulations(profile);
    renderStrategicAdvice(profile);

    document.getElementById('strategyResults').scrollIntoView({ behavior: 'smooth' });
}

function renderScoreBreakdown(breakdown, total) {
    const container = document.getElementById('scoreBreakdown');
    const labelTotal = currentLang === 'ko' ? 'ì´' : 'Total';
    const labelPoints = currentLang === 'ko' ? 'ì ' : 'pts';
    let html = `<div class="breakdown-card"><h3 style="margin-bottom:16px; font-size:1.1rem;">${currentLang === 'ko' ? 'ì ìˆ˜ ë‚´ì—­' : 'Score Breakdown'} (${labelTotal} <span style="color:var(--maple-red)">${total}${labelPoints}</span>)</h3>`;
    
    // Max points for bar calculation (rough estimates for visuals)
    const maxMap = { 
        'ë‚˜ì´':110, 'Age':110,
        'í•™ë ¥':150, 'Education':150,
        'ì–¸ì–´ (ì˜ì–´)':136, 'Language (English)':136,
        'ìºë‚˜ë‹¤ ê²½ë ¥':80, 'Canadian Experience':80,
        'í•´ì™¸ ê²½ë ¥':25, 'Foreign Exp':25,
        'ì´ì „ì„± ì ìˆ˜':100, 'Skill Transferability':100,
        'ë°°ìš°ì ìš”ì†Œ':40, 'Spouse Factors':40,
        'ì¡ì˜¤í¼':200, 'Job Offer':200,
        'PNP ë…¸ë¯¸ë„¤ì´ì…˜':600, 'PNP Nomination':600,
        'ë¶ˆì–´':50, 'French':50,
        'ìºë‚˜ë‹¤ í•™ì—…':30, 'Canadian Study':30,
        'í˜•ì œ/ìë§¤':15, 'Sibling in Canada':15 
    };

    for (const [label, pts] of Object.entries(breakdown)) {
        if (pts === 0) continue;
        const max = maxMap[label] || 100;
        const pct = Math.min(100, Math.round((pts / max) * 100));
        html += `<div class="breakdown-item">
            <span class="breakdown-label">${label}</span>
            <div class="breakdown-bar-wrap"><div class="breakdown-bar" style="width:${pct}%"></div></div>
            <span class="breakdown-pts">${pts}${labelPoints}</span>
        </div>`;
    }
    html += '</div>';
    container.innerHTML = html;
}

function renderRecommendations(profile) {
    const container = document.getElementById('recommendation-paths');
    container.innerHTML = '';
    const recs = [];

    // CEC
    if (profile.canadianExpYears >= 1 && profile.minCLB >= 7) {
        recs.push({ 
            title: 'Canadian Experience Class (CEC)', 
            badge: currentLang === 'ko' ? 'ì¶”ì²œ' : 'Recommended', 
            desc: currentLang === 'ko' ? `ìºë‚˜ë‹¤ ê²½ë ¥ ${profile.canadianExpYears}ë…„ + CLB ${profile.minCLB}ìœ¼ë¡œ CEC ìê²© ì¶©ì¡±. ê°€ì¥ ë¹ ë¥¸ ì˜ì£¼ê¶Œ ê²½ë¡œ.` : `Eligible for CEC with ${profile.canadianExpYears}y of Canadian exp + CLB ${profile.minCLB}. Fastest path to PR.`
        });
    }
    // FSW
    if (profile.foreignExpYears >= 1 && profile.minCLB >= 7 && ['bachelor','two_or_more','master','phd','twoyear'].includes(profile.education)) {
        recs.push({ 
            title: 'Federal Skilled Worker (FSW)', 
            badge: currentLang === 'ko' ? 'ì í•©' : 'Eligible', 
            desc: currentLang === 'ko' ? 'í•´ì™¸ ê²½ë ¥ + í•™ë ¥ + ì–¸ì–´ ì¡°ê±´ ì¶©ì¡±. Express Entry í’€ ë“±ë¡ ê°€ëŠ¥.' : 'Met criteria for Foreign Exp + Edu + Language. Can enter EE pool.'
        });
    }
    // FST
    if (profile.tradeOccupation === 'yes' && profile.minCLB >= 5) {
        recs.push({ 
            title: 'Federal Skilled Trades (FST)', 
            badge: currentLang === 'ko' ? 'ê¸°ìˆ ì§' : 'Trades', 
            desc: currentLang === 'ko' ? 'CLB 5 ì´ìƒ ê¸°ìˆ ì§ ìê²©ì ì „ìš© ê²½ë¡œ.' : 'Dedicated path for skilled trades with CLB 5+.'
        });
    }
    // Category-based EE
    if (profile.occupationGroup !== 'others') {
        recs.push({ 
            title: currentLang === 'ko' ? `EE ì¹´í…Œê³ ë¦¬ ì„ ë°œ (${profile.occupationGroup})` : `EE Category Draw (${profile.occupationGroup})`, 
            badge: 'Best Match', 
            desc: currentLang === 'ko' ? `${profile.occupationGroup} ì¹´í…Œê³ ë¦¬ ë“œë¡œìš°ì—ì„œ ì¼ë°˜ ì„ ë°œë³´ë‹¤ ë‚®ì€ ì»·ì˜¤í”„ë¡œ ITA ìˆ˜ë ¹ ê°€ëŠ¥.` : `Opportunity to receive ITA with lower cut-offs in the ${profile.occupationGroup} category.`
        });
    }
    // PNP
    if (profile.targetProvince !== 'any') {
        recs.push({ 
            title: currentLang === 'ko' ? `${profile.targetProvince} ì£¼ì •ë¶€ ì´ë¯¼ (PNP)` : `${profile.targetProvince} PNP`, 
            badge: currentLang === 'ko' ? 'ì£¼ì •ë¶€' : 'Provincial', 
            desc: currentLang === 'ko' ? 'ë…¸ë¯¸ë„¤ì´ì…˜ íšë“ ì‹œ CRS +600ì . í˜„ì¬ ì ìˆ˜ì™€ ë¬´ê´€í•˜ê²Œ ì˜ì£¼ê¶Œ ì·¨ë“ ê°€ëŠ¥.' : 'Get +600 CRS points with nomination. Obtain PR regardless of current CRS.'
        });
    }
    // AIP
    if (profile.atlanticWilling === 'yes') {
        recs.push({ 
            title: 'Atlantic Immigration Program (AIP)', 
            badge: currentLang === 'ko' ? 'íŒŒì¼ëŸ¿' : 'Pilot', 
            desc: currentLang === 'ko' ? 'ì•„í‹€ë€í‹± 4ê°œ ì£¼ ê³ ìš©ì£¼ ì§€ì› ê¸°ë°˜ ì´ë¯¼. CRS ì ìˆ˜ ìš”ê±´ ì—†ìŒ.' : 'Employer-driven path in Atlantic provinces. No CRS requirement.'
        });
    }
    // RNIP
    if (profile.ruralWilling === 'yes') {
        recs.push({ 
            title: 'Rural and Northern Immigration Pilot (RNIP)', 
            badge: currentLang === 'ko' ? 'ë†ì´Œ' : 'Rural', 
            desc: currentLang === 'ko' ? 'ì§€ë°© ì†Œë„ì‹œ ì •ì°© ì˜í–¥ì´ ìˆëŠ” ê²½ìš° CRS ì—†ì´ ì»¤ë®¤ë‹ˆí‹° ì¶”ì²œ ê°€ëŠ¥.' : 'Community recommendation possible without CRS for those willing to settle in small towns.'
        });
    }
    // French category
    if (profile.frenchCLB >= 7) {
        recs.push({ 
            title: currentLang === 'ko' ? 'ë¶ˆì–´ ìš°ìˆ˜ì ì¹´í…Œê³ ë¦¬' : 'French-speaking Category', 
            badge: 'ğŸ‡«ğŸ‡· French', 
            desc: currentLang === 'ko' ? `ë¶ˆì–´ CLB ${profile.frenchCLB} ì‹¤ë ¥ìœ¼ë¡œ ì»·ì˜¤í”„ ~420ì  ìˆ˜ì¤€ì˜ ë“œë¡œìš° ëŒ€ìƒ.` : `Eligible for French draws with ~420 cut-off thanks to CLB ${profile.frenchCLB}.`
        });
    }

    if (recs.length === 0) {
        container.innerHTML = `<p style="color:var(--text-muted); text-align:center; padding:20px; grid-column:1/-1;">${currentLang === 'ko' ? 'ì…ë ¥ ì •ë³´ë¥¼ ë” ë³´ì™„í•˜ë©´ ì¶”ì²œ ê²½ë¡œê°€ í‘œì‹œë©ë‹ˆë‹¤.' : 'Enter more info to see recommended paths.'}</p>`;
        return;
    }
    recs.forEach(r => {
        container.innerHTML += `<div class="article-card" style="padding:20px;">
            <span class="article-badge">${r.badge}</span>
            <h3 style="margin-top:10px; font-size:1rem;">${r.title}</h3>
            <p style="font-size:0.85rem; color:var(--text-muted); margin-top:8px;">${r.desc}</p>
        </div>`;
    });
}

function renderSimulations(profile) {
    const section = document.getElementById('simulation-section');
    const container = document.getElementById('simulation-cards');
    const labelPoints = currentLang === 'ko' ? 'ì ' : 'pts';
    container.innerHTML = '';
    const sims = [];

    // IELTS ì¬ì‘ì‹œ
    if (profile.willingRetakeIELTS === 'yes' && profile.minCLB < 10) {
        const targetCLB = Math.min(10, profile.minCLB + 1);
        const currentLangPts = clbToLangPts(profile.clbL, profile.effectiveMarried) + clbToLangPts(profile.clbR, profile.effectiveMarried) + clbToLangPts(profile.clbW, profile.effectiveMarried) + clbToLangPts(profile.clbS, profile.effectiveMarried);
        const newLangPts = clbToLangPts(targetCLB, profile.effectiveMarried) * 4;
        const gain = newLangPts - currentLangPts;
        if (gain > 0) sims.push({ 
            title: currentLang === 'ko' ? 'IELTS ì¬ì‘ì‹œ' : 'Retake IELTS', 
            gain: `+${gain}`, 
            desc: currentLang === 'ko' ? `ì „ ì˜ì—­ CLB ${targetCLB} ë‹¬ì„± ì‹œ ì–¸ì–´ ì ìˆ˜ ì•½ ${gain}ì  í–¥ìƒ ì˜ˆìƒ.` : `Expected ${gain} pts increase by achieving CLB ${targetCLB} in all sections.`
        });
    }
    // ë¶ˆì–´ í•™ìŠµ
    if (profile.canStudyFrench === 'yes' && profile.frenchCLB < 7) {
        sims.push({ 
            title: currentLang === 'ko' ? 'ë¶ˆì–´ CLB 7 ë‹¬ì„±' : 'Achieve French CLB 7', 
            gain: '+25', 
            desc: currentLang === 'ko' ? 'ë¶ˆì–´ CLB 7~8 ë‹¬ì„± ì‹œ +25ì  ë° ë¶ˆì–´ ì¹´í…Œê³ ë¦¬ ë“œë¡œìš° ìê²© íšë“.' : 'Get +25 pts and eligibility for French draws by reaching CLB 7.'
        });
    }
    // ì¶”ê°€ ê²½ë ¥
    if (profile.planMoreWork === 'yes') {
        const nextExp = Math.min(5, profile.canadianExpYears + 1);
        const canExpSingle = {1:40, 2:53, 3:64, 4:72, 5:80};
        const canExpMarried = {1:35, 2:46, 3:56, 4:63, 5:70};
        const map = profile.effectiveMarried ? canExpMarried : canExpSingle;
        const currentPts = map[profile.canadianExpYears] || 0;
        const newPts = map[nextExp] || currentPts;
        const gain = newPts - currentPts;
        if (gain > 0) sims.push({ 
            title: currentLang === 'ko' ? 'ìºë‚˜ë‹¤ ê²½ë ¥ 1ë…„ ì¶”ê°€' : '1 Year More Canadian Exp', 
            gain: `+${gain}`, 
            desc: currentLang === 'ko' ? `ìºë‚˜ë‹¤ ê²½ë ¥ ${nextExp}ë…„ ë‹¬ì„± ì‹œ ê²½ë ¥ ì ìˆ˜ ${gain}ì  í–¥ìƒ.` : `Score increases by ${gain} pts with ${nextExp} years of Canadian experience.`
        });
    }
    // ë°°ìš°ì IELTS
    if (profile.isMarried && profile.spouseIELTS === 'yes') {
        sims.push({ 
            title: currentLang === 'ko' ? 'ë°°ìš°ì IELTS ì‘ì‹œ' : 'Spouse Retakes IELTS', 
            gain: '+Max 20', 
            desc: currentLang === 'ko' ? 'ë°°ìš°ì CLB 9 ì´ìƒ ë‹¬ì„± ì‹œ ë°°ìš°ì ì–¸ì–´ ì ìˆ˜ ìµœëŒ€ 20ì  ì¶”ê°€.' : 'Up to 20 bonus points if spouse achieves CLB 9+.'
        });
    }
    // ê³ ìš©ì£¼ ë³€ê²½ / ì¡ì˜¤í¼
    if (profile.canChangeEmployer === 'yes' && profile.hasJobOffer === 'no') {
        sims.push({ 
            title: currentLang === 'ko' ? 'ì¡ì˜¤í¼ í™•ë³´ ì „ëµ' : 'Job Offer Strategy', 
            gain: '+50~200', 
            desc: currentLang === 'ko' ? 'LMIA ì¡ì˜¤í¼ í™•ë³´ ì‹œ +50ì (ì¼ë°˜) ë˜ëŠ” +200ì (ì‹œë‹ˆì–´ ë§¤ë‹ˆì €) ì¶”ê°€.' : 'Secure LMIA job offer for +50 pts (Regular) or +200 pts (Senior Manager).'
        });
    }

    if (sims.length === 0) { section.style.display = 'none'; return; }
    section.style.display = 'block';
    document.querySelector('#simulation-section h3').textContent = currentLang === 'ko' ? 'ì ìˆ˜ í–¥ìƒ ì‹œë®¬ë ˆì´ì…˜' : 'Score Improvement Simulation';
    sims.forEach(s => {
        container.innerHTML += `<div class="article-card" style="padding:20px; text-align:center;">
            <div class="sim-gain">${s.gain}${labelPoints}</div>
            <h3 style="font-size:1rem; margin:8px 0;">${s.title}</h3>
            <p style="font-size:0.8rem; color:var(--text-muted);">${s.desc}</p>
        </div>`;
    });
}

function renderStrategicAdvice(profile) {
    const container = document.getElementById('strategic-advice');
    const advices = [];
    if (currentLang === 'ko') {
        if (profile.minCLB < 9) advices.push('ğŸ’¡ ì–¸ì–´ ì ìˆ˜ í–¥ìƒì´ ìµœìš°ì„ ì…ë‹ˆë‹¤. CLB 9 ë‹¬ì„± ì‹œ ì´ì „ì„± ì ìˆ˜ +50ì  í¬í•¨ í° í­ì˜ ì ìˆ˜ ìƒìŠ¹ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
        if (profile.canadianExpYears === 0 && profile.foreignExpYears >= 1) advices.push('ğŸ ìºë‚˜ë‹¤ ë‚´ ê²½ë ¥ì´ ì—†ìŠµë‹ˆë‹¤. ì›Œí¬í¼ë°‹ì„ í†µí•´ CEC ìê²©ì„ ë§Œë“œëŠ” ê²ƒì´ ì¥ê¸°ì ìœ¼ë¡œ ê°€ì¥ ìœ ë¦¬í•©ë‹ˆë‹¤.');
        if (profile.hasPNP === 0 && profile.targetProvince !== 'any') advices.push(`ğŸ›ï¸ ${profile.targetProvince} PNPì— ê´€ì‹¬ì´ ìˆìœ¼ì‹  ê²½ìš°, ì£¼ì •ë¶€ NOI(ê´€ì‹¬ í‘œëª…ì„œ) ì œì¶œì´ë‚˜ ê³ ìš©ì£¼ ì—°ê³„ ê²½ë¡œë¥¼ íƒìƒ‰í•˜ì„¸ìš”.`);
        if (profile.frenchCLB < 7 && profile.canStudyFrench === 'yes') advices.push('ğŸ‡«ğŸ‡· ë¶ˆì–´ CLB 7 ì´ìƒ ë‹¬ì„± ì‹œ ì¼ë°˜ ì„ ë°œ ëŒ€ë¹„ ì•½ 70~100ì  ë‚®ì€ ì»·ì˜¤í”„ ë“œë¡œìš°ì— ì°¸ì—¬ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
        if (profile.age >= 35) advices.push('â° ë‚˜ì´ì— ë”°ë¥¸ ì ìˆ˜ ê°ì†Œê°€ ì‹œì‘ë©ë‹ˆë‹¤. ê°€ëŠ¥í•œ ë¹ ë¥´ê²Œ Express Entry í’€ì— ë“±ë¡í•˜ëŠ” ê²ƒì´ ìœ ë¦¬í•©ë‹ˆë‹¤.');
        if (profile.finalScore >= 500) advices.push('âœ… í˜„ì¬ ì ìˆ˜ëŠ” ì¼ë°˜ Express Entry ì„ ë°œ ê¶Œë‚´ì…ë‹ˆë‹¤. í”„ë¡œí•„ ìµœì‹ í™” ë° ì •ê¸° ëª¨ë‹ˆí„°ë§ì„ ê¶Œì¥í•©ë‹ˆë‹¤.');
        if (profile.atlanticWilling === 'yes') advices.push('ğŸŒŠ ì•„í‹€ë€í‹± ì´ë¯¼ íŒŒì¼ëŸ¿(AIP)ì€ ê³ ìš©ì£¼ ì§€ì› ê¸°ë°˜ìœ¼ë¡œ CRS ì ìˆ˜ ì œí•œì´ ì—†ìŠµë‹ˆë‹¤. í•´ë‹¹ ì£¼ ì·¨ì—… í™œë™ì— ì§‘ì¤‘í•˜ì„¸ìš”.');
        if (profile.businessIntent === 'yes') advices.push('ğŸ¢ ë¹„ì¦ˆë‹ˆìŠ¤ ì´ë¯¼(Start-up Visa, Self-Employed ë“±)ë„ ëŒ€ì•ˆìœ¼ë¡œ ê²€í† í•´ ë³´ì„¸ìš”. CRS ì—†ì´ ì§„í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
    } else {
        if (profile.minCLB < 9) advices.push('ğŸ’¡ Improving language scores is top priority. Reaching CLB 9 can trigger +50 pts in transferability.');
        if (profile.canadianExpYears === 0 && profile.foreignExpYears >= 1) advices.push('ğŸ No Canadian experience. Obtaining a work permit to qualify for CEC is best for long-term success.');
        if (profile.hasPNP === 0 && profile.targetProvince !== 'any') advices.push(`ğŸ›ï¸ For ${profile.targetProvince} PNP, explore submitting NOI or employer-linked streams.`);
        if (profile.frenchCLB < 7 && profile.canStudyFrench === 'yes') advices.push('ğŸ‡«ğŸ‡· French CLB 7+ opens draws with 70-100 pts lower cut-offs than general draws.');
        if (profile.age >= 35) advices.push('â° Age points are decreasing. Entering the EE pool as soon as possible is recommended.');
        if (profile.finalScore >= 500) advices.push('âœ… Current score is competitive for general draws. Keep your profile updated.');
        if (profile.atlanticWilling === 'yes') advices.push('ğŸŒŠ AIP is employer-driven with no CRS floor. Focus on job hunting in the Atlantic region.');
        if (profile.businessIntent === 'yes') advices.push('ğŸ¢ Consider Business Immigration (SUV, etc.) which can be processed without CRS.');
    }
    
    if (advices.length === 0) advices.push(currentLang === 'ko' ? 'ğŸ“‹ ì…ë ¥ ì •ë³´ë¥¼ ë” ì™„ì„±í•˜ë©´ ë§ì¶¤í˜• ì „ëµ ì¡°ì–¸ì´ ì œê³µë©ë‹ˆë‹¤.' : 'ğŸ“‹ More advice will be available once you complete your profile.');
    
    container.innerHTML = `<h3 style="margin-bottom:16px; color:var(--primary);">${currentLang === 'ko' ? 'ì „ëµ ì¡°ì–¸ (ìš°ì„ ìˆœìœ„ ìˆœ)' : 'Strategic Advice (Priority)'}</h3>` +
        advices.map(a => `<div class="advice-item">${a}</div>`).join('');
}

function renderPosts() {
    const list = document.getElementById("articles").querySelector(".articles-grid");
    if (!list) return;
    list.innerHTML = "";

    const data = articlesData[currentLang];
    const btnText = currentLang === 'ko' ? 'ìì„¸íˆ ë³´ê¸°' : 'Read More';

    data.forEach((article, index) => {
        const articleElement = document.createElement("article");
        articleElement.className = "article-card";
        articleElement.innerHTML = `
            <span class="article-badge">${article.badge}</span>
            <h3>${article.title}</h3>
            <div class="article-meta">${article.date}</div>
            <div class="article-summary">
                ${article.summary}
            </div>
            <button class="read-more-btn" onclick="openArticle(${index})">${btnText}</button>
        `;
        list.appendChild(articleElement);
    });
}
